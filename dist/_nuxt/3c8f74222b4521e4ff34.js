(window.webpackJsonp=window.webpackJsonp||[]).push([[13],Array(199).concat([function(t,e,i){var a=i(230);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("7e106402",a,!0,{})},function(t,e,i){var a=i(232);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("241d3752",a,!0,{})},function(t,e,i){var a=i(234);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("886959ae",a,!0,{})},,function(t,e,i){var a=i(243);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("585e79d6",a,!0,{})},function(t,e,i){var a=i(245);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("2bf4dd7c",a,!0,{})},function(t,e,i){var a=i(247);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("07ac38f9",a,!0,{})},function(t,e,i){var a=i(249);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("4d3ea1ba",a,!0,{})},function(t,e,i){var a=i(251);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("1e69d122",a,!0,{})},function(t,e,i){var a=i(253);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("808b0686",a,!0,{})},function(t,e,i){var a=i(257);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("566415c8",a,!0,{})},function(t,e,i){var a=i(259);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("496d92d8",a,!0,{})},function(t,e,i){var a=i(261);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("b557fa64",a,!0,{})},function(t,e,i){var a=i(263);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("cff6f75a",a,!0,{})},function(t,e,i){var a=i(265);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("0a002028",a,!0,{})},function(t,e,i){var a=i(267);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("2f488a0b",a,!0,{})},function(t,e,i){var a=i(269);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("716fa9e3",a,!0,{})},function(t,e,i){var a=i(271);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("5405930c",a,!0,{})},function(t,e,i){var a=i(273);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("fbb7eb10",a,!0,{})},function(t,e,i){var a=i(277);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("065fd4ee",a,!0,{})},function(t,e,i){var a=i(279);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("b39b9d40",a,!0,{})},function(t,e,i){"use strict";var a={name:"ReactionModal",props:{toggleReaction:Function,reactionsFormatted:Array}},o=(i(233),i(26)),s=Object(o.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"card"},[i("aside",{staticClass:"menu"},[i("div",{staticClass:"message-header"},[t._v("\n                    Reactions\n                ")]),t._v(" "),t._l(t.reactionsFormatted,function(e,a){return i("ul",{staticClass:"menu-list"},[i("li",{staticClass:"is-size-4",class:{"user-reacted":e.userReacted},on:{click:function(i){return t.toggleReaction(e.emoji,a)}}},[i("a",[t._v(t._s(e.emoji)+" "),i("span",[t._v(t._s(e.count))])])])])})],2)])])},[],!1,null,"22b8f0bc",null);s.options.__file="ReactionModal.vue";e.a=s.exports},function(t,e,i){"use strict";i(13);var a=i(1),o=i.n(a),s=(i(14),i(241),{name:"addComment",props:{updateComment:Function,postId:String,commentId:String,resetReply:Function},data:function(){return{comment:""}},methods:{createComment:function(){if(this.comment.length){var t={profileId:this.$store.state.user._id,postId:this.postId,content:this.comment,commentId:this.commentId?this.commentId:""};this.$axios.post("/api/v1/comments",t),this.updateComment(t),this.comment="",this.resetReply("")}else this.$toast.open({duration:4e3,message:"You cannot post a blank comment.",position:"is-top",type:"is-danger"})}}}),n=(i(258),i(26)),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{staticClass:"media"},[i("div",{staticClass:"media-content"},[i("div",{staticClass:"field"},[i("p",{staticClass:"control"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"textarea",attrs:{placeholder:"Add a comment...",rows:"2"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"field"},[i("a",{staticClass:"button action post",on:{click:function(e){return t.createComment()}}},[i("b",[t._v("Post")])])])])])},[],!1,null,"74fde5a0",null);r.options.__file="addComment.vue";var c=r.exports,l=i(237).format,d={name:"Comment",props:{comment:Object,nestLevel:Number,toggle:Function,activeComment:String},components:{AddComment:c},mounted:function(){var t=o()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.$get("/api/v1/profiles/".concat(this.comment.profileId));case 3:return this.profile=t.sent,t.next=6,this.$axios.$get("/api/v1/comments/".concat(this.comment.postId,"/").concat(this.comment._id));case 6:return this.replyList=t.sent,t.next=9,this.$axios.$get("/api/v1/upvotes/".concat(this.comment._id,"/").concat(this.$store.state.user._id));case 9:this.upvote=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("error grabbing some values");case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(){return t.apply(this,arguments)}}(),data:function(){return{profile:{},replyList:[],activeNestedCommentId:"",upvote:{}}},methods:{updateComment:function(t){this.replyList.unshift(t)},toggleReply:function(){this.activeComment===this.comment._id?this.toggle(""):this.toggle(this.comment._id)},toggleUpvote:function(){this.upvote.userUpvoted?this.$axios.delete("/api/v1/upvotes/".concat(this.$store.state.user._id,"/").concat(this.comment._id)):this.$axios.post("/api/v1/upvotes/".concat(this.$store.state.user._id),{commentId:this.comment._id}),this.upvote.userUpvoted=!this.upvote.userUpvoted}},computed:{userUpvoted:function(){return!!this.upvote.userUpvoted},createdAtFormatted:function(){return l(this.comment.createdAt,"en_US")},nextNestLevel:function(){return Number(this.nestLevel+1)}}},u=(i(260),Object(n.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("article",{staticClass:"media"},[i("a",{on:{click:function(e){return t.toggleUpvote()}}},[i("font-awesome-icon",{staticClass:"media-left upvote icon",class:{"user-upvoted":!!t.userUpvoted},attrs:{icon:"arrow-up"}})],1),t._v(" "),i("div",{staticClass:"media-content"},[i("div",{staticClass:"content"},[i("p",{attrs:{id:"reply"}},[i("small",[t._v("@"+t._s(t.profile.username)+" · "+t._s(t.createdAtFormatted))]),t._v(" "),i("br"),t._v("\n                    "+t._s(t.comment.content)+"\n                    "),i("br"),t._v(" "),t.nestLevel<2?i("small",{on:{click:function(e){return t.toggleReply()}}},[i("a",[t._v("Reply")])]):t._e()]),t._v(" "),t.activeComment===t.comment._id?i("AddComment",{attrs:{commentId:t.comment._id,updateComment:t.updateComment,resetReply:t.toggle,postId:t.comment.postId}}):t._e()],1),t._v(" "),t._l(t.replyList,function(e){return t.nestLevel<2?i("Comment",{key:e._id,attrs:{activeComment:t.activeComment,comment:e,commentUpvote:e.upvote,"nest-level":t.nextNestLevel,toggle:t.toggle}}):t._e()})],2)])])},[],!1,null,"41405a12",null));u.options.__file="comment.vue";var p=u.exports,m=(i(15),i(16)),f=i.n(m),h=i(220),v=(i(236),(i(235)||"").Picker),b={name:"reactionNoComments",components:{ReactionModal:h.a,Picker:v},props:{postId:String,hideComments:{type:Boolean,default:!1}},data:function(){return{reactionList:[],reactionsFormatted:[]}},methods:{toggleReaction:function(){var t=o()(regeneratorRuntime.mark(function t(e){var i,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i="string"==typeof e?e:e.native,t.next=3,this.reactionsFormatted.map(function(t){return t.emoji}).indexOf(i);case 3:if(a=t.sent,o="object"===f()(e),-1!==a&&!1!==this.reactionsFormatted[a].userReacted){t.next=9;break}return t.abrupt("return",this.toggleReactionTrue(i,a,o));case 9:if(-1===a||!0!==this.reactionsFormatted[a].userReacted){t.next=11;break}return t.abrupt("return",this.toggleReactionFalse(i,a));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),toggleReactionTrue:function(){var t=o()(regeneratorRuntime.mark(function t(e,i,a){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/v1/profiles/".concat(this.$store.state.user._id,"/reactions"),{emoji:e,postId:this.postId});case 2:-1===i?(this.reactionsFormatted.push({emoji:e,count:1,userReacted:!1}),o=this.reactionsFormatted.map(function(t){return t.emoji}).indexOf(e),this.reactionsFormatted[o].userReacted=!0):(this.reactionsFormatted[i].userReacted=!0,this.reactionsFormatted[i].count++),a&&this.$refs.dropdown.toggle();case 4:case"end":return t.stop()}},t,this)}));return function(e,i,a){return t.apply(this,arguments)}}(),toggleReactionFalse:function(){var t=o()(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.delete("/api/v1/profiles/".concat(this.$store.state.user._id,"/reactions/").concat(this.postId),{data:{emoji:e}});case 2:this.reactionsFormatted[i].count--,this.reactionsFormatted[i].userReacted=!1,0===this.reactionsFormatted[i].count&&this.reactionsFormatted.splice(i,1);case 5:case"end":return t.stop()}},t,this)}));return function(e,i){return t.apply(this,arguments)}}(),cardModal:function(){this.$modal.open({parent:this,component:h.a,props:{reactionsFormatted:this.reactionsFormatted},hasModalCard:!0})},showPost:function(){this.$modal.open({parent:this,component:y,props:{post:this.post},width:900,hasModalCard:!0})}},computed:{reactionCount:function(){var t=0;return this.reactionsFormatted.length>3&&this.reactionsFormatted.slice(3).map(function(e){t=e.count+t}),t},reactionCountMobile:function(){var t=0;return this.reactionsFormatted.map(function(e){t=e.count+t}),t}},mounted:function(){var t=o()(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.$get("/api/v1/reactions/".concat(this.postId));case 3:this.reactionList=t.sent,this.reactionList.length&&this.reactionList.forEach(function(t){var i=t.profileId===e.$store.state.user._id,a=e.reactionsFormatted.map(function(t){return t.emoji}).indexOf(t.emoji);-1===a?(e.reactionsFormatted.push({emoji:t.emoji,count:1,userReacted:!1}),i&&(a=e.reactionsFormatted.map(function(t){return t.emoji}).indexOf(t.emoji),e.reactionsFormatted[a].userReacted=!0)):(e.reactionsFormatted[a].count++,i&&(e.reactionsFormatted[a].userReacted=!0))}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("some kind of error idk");case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},g=(i(262),Object(n.a)(b,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level is-mobile"},[i("div",{staticClass:"reactions level-left"},[t._l(t.reactionsFormatted.slice(0,3),function(e,a){return i("a",{staticClass:"button is-outlined iterator level-item is-hidden-mobile",class:{"user-reacted":e.userReacted},on:{click:function(i){return t.toggleReaction(e.emoji,a)}}},[i("b",[t._v(t._s(e.emoji)+t._s(e.count))])])}),t._v(" "),t.reactionCount?i("a",{staticClass:"button is-outlined level-item is-hidden-mobile",on:{click:function(e){return t.cardModal()}}},[i("b",[t._v("··· "+t._s(t.reactionCount))])]):t._e(),t._v(" "),t.reactionsFormatted.length?i("a",{staticClass:"button is-outlined iterator level-item is-hidden-tablet",on:{click:function(e){return t.cardModal()}}},[i("b",[t._l(t.reactionsFormatted.slice(0,3),function(e,a){return i("span",{staticClass:"is-marginless is-paddingless"},[t._v(t._s(e.emoji))])}),t._v(t._s(t.reactionCountMobile))],2)]):t._e(),t._v(" "),i("BDropdown",{ref:"dropdown",attrs:{"mobile-modal":""}},[i("a",{staticClass:"button is-outlined level-item",attrs:{slot:"trigger"},slot:"trigger"},[i("font-awesome-icon",{attrs:{icon:"smile"}})],1),t._v(" "),i("BDropdownItem",{attrs:{custom:""}},[i("Picker",{attrs:{set:"apple",showSkinTones:!1,showPreview:!1},on:{select:t.toggleReaction}})],1)],1)],2)])},[],!1,null,"1fcf0fda",null));g.options.__file="ReactionsNoComments.vue";var x=g.exports,_=i(224),w=i(225),C=i(77),k={name:"PostModal",components:{AddComment:c,Comment:p,Reactions:x,PostHeader:_.a,PostTimer:w.a},props:{post:Object,isFromNestedURL:{type:Boolean,default:!1},isFromNewsfeed:{type:Boolean,default:!1},fallbackURL:{type:String,default:""},profile:Object,project:Object,community:Object,isProject:Boolean},data:function(){return{commentList:[],activeCommentId:"",originalPath:""}},created:function(){this.originalPath=this.$route.path,window.history.pushState({},null,"/dev/c/".concat(this.community.name,"/posts/").concat(this.post._id))},beforeDestroy:function(){window.history.pushState({},null,"".concat(this.$route.path))},mounted:function(){var t=o()(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$get("/api/v1/comments/".concat(this.post._id));case 2:this.commentList=t.sent,this.commentList.map(function(){var t=o()(regeneratorRuntime.mark(function t(i,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/api/v1/upvotes/".concat(i._id,"/").concat(e.$store.state.user._id));case 2:e.commentList[a].upvote=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(e,i){return t.apply(this,arguments)}}()),C.a.isActivePost(this.post)||(this.post.isActive=!1,this.$axios.put("/api/v1/posts/".concat(this.post._id),{isActive:!1}));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{updateComment:function(t){this.commentList.unshift(t)},toggleComment:function(t){this.activeCommentId=t}}},P=(i(268),Object(n.a)(k,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-content"},[i("div",{staticClass:"box is-paddingless"},[i("div",{staticClass:"card"},[i("post-header",{attrs:{isActive:t.post.isActive,createdAt:this.post.createdAt,profile:this.profile,project:this.project,community:this.community,isProject:this.isProject}}),t._v(" "),t.post.isActive?i("PostTimer",{attrs:{time:t.post.expiration}}):t._e(),t._v(" "),i("div",{staticClass:"content is-marginless",domProps:{innerHTML:t._s(t.post.content)}}),t._v(" "),i("br"),t._v(" "),i("Reactions",{attrs:{postId:this.post._id}})],1),t._v(" "),t.activeCommentId?t._e():i("AddComment",{attrs:{postId:t.post._id,updateComment:t.updateComment}}),t._v(" "),t._l(t.commentList,function(e){return i("Comment",{key:e._id,attrs:{activeComment:t.activeCommentId,comment:e,"nest-level":0,toggle:t.toggleComment}})})],2)])},[],!1,null,"07d8f31d",null));P.options.__file="PostModal.vue";var y=e.a=P.exports},function(t,e,i){var a=i(290);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("c2ada664",a,!0,{})},function(t,e,i){var a=i(292);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("44edd8e9",a,!0,{})},function(t,e,i){"use strict";i(14),i(13);var a=i(1),o=i.n(a),s=i(237),n=s.format,r=(s.render,s.cancel,s.register,{name:"postHeader",props:{isActive:Boolean,createdAt:String,profile:{},project:{},community:{},isProject:Boolean},data:function(){return{}},mounted:function(){var t=o()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{createdAtFormatted:function(){return n(this.createdAt,"en_US")},getProfileRoute:function(){return"/dev/u/".concat(this.profile.username)},getProjectRoute:function(){return"/dev/p/".concat(this.project.name)},getCommunityRoute:function(){return"/dev/c/".concat(this.community.name)}}}),c=(i(264),i(26)),l=Object(c.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-header"},[i("figure",{staticClass:"media-left"},[t.isProject?t._e():i("nuxt-link",{attrs:{to:t.getProfileRoute}},[i("p",{staticClass:"image is-64x64 profilePic"},[i("img",{attrs:{src:t.profile.profilePicture}})])]),t._v(" "),t.isProject?i("nuxt-link",{attrs:{to:t.getProjectRoute}},[i("p",{staticClass:"image is-64x64 profilePic"},[i("img",{attrs:{src:t.project.profilePicture}})])]):t._e()],1),t._v(" "),i("div",{staticClass:"card-content is-paddingless"},[t.isProject?i("nuxt-link",{staticClass:"no-decor",attrs:{to:t.getProjectRoute}},[i("p",[i("strong",[t._v(t._s(t.project.name))]),t._v(" "),i("small",{staticClass:"grey"},[i("span",{staticClass:"grey underline",attrs:{to:t.getProjectRoute}},[i("b",[t._v("@"+t._s(t.project.name))])]),t._v("\n\n            · "+t._s(t.createdAtFormatted)+"\n\n            ")])])]):t._e(),t._v(" "),t.isProject?t._e():i("nuxt-link",{staticClass:"no-decor",attrs:{to:t.getProfileRoute}},[i("p",[i("strong",[t._v(t._s(t.profile.firstName)+" "+t._s(t.profile.lastName))]),t._v(" "),i("small",{staticClass:"grey"},[i("span",{staticClass:"grey underline",attrs:{to:t.getProfileRoute}},[i("b",[t._v("@"+t._s(t.profile.username))])]),t._v("\n\n            · "+t._s(t.createdAtFormatted)+"\n                "),t.isActive?i("span",[t._v("\n                    ·\n                    "),i("span",{staticClass:"liveBox"},[t._v("\n                        LIVE\n                    ")])]):t._e()])])]),t._v(" "),i("p",{staticClass:"communityOfPost"},[t._v("\n              Posted in\n              "),i("nuxt-link",{staticClass:"community underline",attrs:{to:t.getCommunityRoute}},[i("b",[t._v("#"+t._s(t.community.name))])])],1)],1),t._v(" "),i("div",{staticClass:"media-right"},[i("font-awesome-icon",{attrs:{icon:"angle-down"}})],1)])},[],!1,null,"1277f0fc",null);l.options.__file="postHeader.vue";e.a=l.exports},function(t,e,i){"use strict";var a={name:"postTimer",props:{time:String},data:function(){return{countdown:""}},methods:{countdownTimer:function(t){var e=this,i=setInterval(function(){var a=(new Date).getTime(),o=t-a,s=Math.floor(o%864e5/36e5),n=Math.floor(o%36e5/6e4),r=Math.floor(o%6e4/1e3);s=s<10?"0"+s:s,n=n<10?"0"+n:n,r=r<10?"0"+r:r,e.countdown="".concat(s,":").concat(n,":").concat(r),"00:00:00"===e.countdown&&clearInterval(i)},1e3)}},mounted:function(){this.countdownTimer(new Date(this.time).getTime())}},o=(i(266),i(26)),s=Object(o.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level"},[e("div",{staticClass:"level-item"},[e("span",{staticClass:"liveBox"},[this._v(this._s(this.countdown))])])])},[],!1,null,"540312aa",null);s.options.__file="postTimer.vue";e.a=s.exports},,function(t,e,i){"use strict";i(27);var a=i(28),o=i.n(a),s=(i(44),i(13),i(1)),n=i.n(s),r=i(254),c=i(286),l=i(55),d={name:"dropdown"},u=(i(229),i(26)),p=Object(u.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"dropdown-trigger"},[e("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"}},[this._m(0),this._v(" "),e("span",{staticClass:"icon is-medium"},[e("font-awesome-icon",{attrs:{icon:"angle-down"}})],1)])]),this._v(" "),this._m(1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("b",[this._v("@Kowalla")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[i("div",{staticClass:"dropdown-content"},[i("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("\n                Dropdown item\n            ")]),t._v(" "),i("a",{staticClass:"dropdown-item"},[t._v("\n                Other dropdown item\n            ")]),t._v(" "),i("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("\n                Active dropdown item\n            ")]),t._v(" "),i("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("\n                Other dropdown item\n            ")]),t._v(" "),i("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("\n                With a divider\n            ")])])])}],!1,null,"baf125f6",null);p.options.__file="dropdownItems.vue";var m={name:"createPostModal",components:{Dropdown:p.exports,Editor:r.a,EditorContent:r.b,EditorMenuBar:r.c},data:function(){return{userDropdown:!1,commDropdown:!1,createDialog:!1,editor:null,file:"",s3Loading:!1,clearPhoto:!1,photoUrl:"",timedPost:!1,time:new Date(2018,11,24,0,0),isActive:null,userCompleted:null,unselectableTimes:[]}},beforeDestroy:function(){var t=n()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==this.clearPhoto){t.next=6;break}return t.next=3,this.photoUrl.split("post-pics/")[1];case 3:return e=t.sent,t.next=6,this.$axios.post("/api/v1/posts/imageDelete",{bucket:"kowalla-dev/user/post-pics",fileName:e});case 6:return t.next=8,this.editor.destroy();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:o()({},Object(l.b)("user",["activePost"]),{minutes:function(){return this.time?this.time.getMinutes():0},hours:function(){return this.time?this.time.getHours():0},expiration:function(){var t=new Date,e=t.setHours(t.getHours()+this.hours,t.getMinutes()+this.minutes);return new Date(e)}}),methods:{toggleTimedPost:function(){this.timedPost=!this.timedPost,this.isActive=!0,this.timedPost||(this.time=null,this.isActive=!1)},createPost:function(){var t=n()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.s3Loading=!0,0!==this.html.replace(/(<([^>]+)>)/gi,"").length){t.next=6;break}return this.$toast.open({duration:5e3,message:"You must input some text to make a post",position:"is-top",type:"is-danger"}),this.s3Loading=!1,t.abrupt("return",null);case 6:return t.next=8,this.$axios.get("/api/v1/communities/5c3292a2f03d751a7ffb80ab");case 8:return e=t.sent,t.next=11,this.$axios.post("/api/v1/communities/1234567890/posts",{profileId:this.$store.state.user._id,communityId:e._id,content:this.html,duration:this.time,expiration:this.expiration||null,isActive:this.isActive,userCompleted:this.userCompleted});case 11:this.clearPhoto=!1,this.s3Loading=!1,this.$parent.close(),this.timedPost&&(this.$router.push({path:"/dev/focus"}),"/dev/focus"===this.$router.history.current.fullPath&&this.$router.go());case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),selectFile:function(){var t=n()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.file.files[0];case 2:this.file=t.sent,this.sendFile(e);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sendFile:function(){var t=n()(regeneratorRuntime.mark(function t(e){var i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearPhoto=!0,(i=new FormData).append("file",this.file),t.prev=3,t.next=6,this.$axios.post("/api/v1/posts/imageUpload",i);case 6:a=t.sent,this.photoUrl=a.data.file,e({src:a.data.file}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0),this.$toast.open({duration:5e3,message:"There was an error with your file. Please confirm it's less than 10MB and a png, jpeg, or gif.",position:"is-top",type:"is-danger"});case 15:case"end":return t.stop()}},t,this,[[3,11]])}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){var t=this;this.editor=new r.a({autoFocus:!0,extensions:[new c.a,new c.c,new c.e,new c.f,new c.g({levels:[1,2,3]}),new c.i,new c.j,new c.m,new c.n,new c.p,new c.q,new c.b,new c.d,new c.k,new c.l,new c.o,new c.r,new c.h],content:"<p></p><p></p><p></p><p></p>",onUpdate:function(e){var i=e.getHTML;t.html=i()}})}},f=(i(231),Object(u.a)(m,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-content"},[i("div",{staticClass:"box"},[i("article",{staticClass:"media"},[i("div",{staticClass:"media-left"},[i("figure",{staticClass:"image is-64x64"},[i("img",{attrs:{src:this.$store.state.user.profilePicture}})])]),t._v(" "),i("div",{staticClass:"media-content"},[i("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,o=e.isActive;return i("div",{staticClass:"field has-addons"},[i("a",{staticClass:"button is-white",class:{"is-active":o.bold()},on:{click:a.bold}},[i("font-awesome-icon",{attrs:{icon:"bold"}})],1),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.italic()},on:{click:a.italic}},[i("font-awesome-icon",{attrs:{icon:"italic"}})],1),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.strike()},on:{click:a.strike}},[i("font-awesome-icon",{attrs:{icon:"strikethrough"}})],1),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.underline()},on:{click:a.underline}},[i("font-awesome-icon",{attrs:{icon:"underline"}})],1),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.code()},on:{click:a.code}},[i("font-awesome-icon",{attrs:{icon:"code"}})],1),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.heading({level:1})},on:{click:function(t){return a.heading({level:1})}}},[t._v("\n                                H1\n                            ")]),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.heading({level:2})},on:{click:function(t){return a.heading({level:2})}}},[t._v("\n                                H2\n                            ")]),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.heading({level:3})},on:{click:function(t){return a.heading({level:3})}}},[t._v("\n                                H3\n                            ")]),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.todo_list()},on:{click:a.todo_list}},[i("font-awesome-icon",{attrs:{icon:"tasks"}})],1),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.bullet_list()},on:{click:a.bullet_list}},[i("font-awesome-icon",{attrs:{icon:"list-ul"}})],1),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.ordered_list()},on:{click:a.ordered_list}},[i("font-awesome-icon",{attrs:{icon:"list-ol"}})],1),t._v(" "),i("a",{staticClass:"button is-white",class:{"is-active":o.blockquote()},on:{click:a.blockquote}},[i("font-awesome-icon",{attrs:{icon:"quote-right"}})],1),t._v(" "),i("a",{staticClass:"button is-white",on:{click:a.horizontal_rule}},[i("font-awesome-icon",{attrs:{icon:"minus"}})],1),t._v(" "),i("a",{staticClass:"button is-white"},[i("input",{ref:"file",staticClass:"file-input",attrs:{type:"file"},on:{change:function(e){return t.selectFile(a.image)}}}),t._v(" "),i("font-awesome-icon",{attrs:{icon:"camera"}})],1),t._v(" "),t.activePost.isActive?t._e():i("a",{staticClass:"button is-white",on:{click:t.toggleTimedPost}},[i("font-awesome-icon",{attrs:{icon:"clock"}}),t._v("   Timed Post\n                            ")],1)])}}])}),t._v(" "),t.timedPost?i("div",{staticClass:"block"},[t._m(0),t._v(" "),i("b-timepicker",{attrs:{inline:"","max-time":new Date(2018,11,24,10)},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1):t._e(),t._v(" "),i("div",{staticClass:"editor content"},[i("editor-content",{staticClass:"editor__content",attrs:{editor:t.editor}})],1),t._v(" "),i("div",{staticClass:"level is-paddingless"},[i("a",{staticClass:"level-item button action post",class:{"is-loading":t.s3Loading},on:{click:function(e){return t.createPost()}}},[i("b",[t._v("Post")])]),t._v(" "),i("div",{staticClass:"level-right"},[i("span",{staticClass:"level-item has-text-grey"},[t._v("as")]),t._v(" "),i("div",{staticClass:"level-item dropdown",class:{"is-active":t.userDropdown},on:{click:function(e){t.userDropdown=!t.userDropdown}}},[i("dropdown")],1),t._v(" "),i("span",{staticClass:"level-item has-text-grey"},[t._v("in")]),t._v(" "),i("div",{staticClass:"level-item dropdown",class:{"is-active":t.commDropdown},on:{click:function(e){t.commDropdown=!t.commDropdown}}},[i("dropdown")],1)])])],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("Select a timespan for your timed post:")])])}],!1,null,"31b572b2",null));f.options.__file="CreatePostModal.vue";e.a=f.exports},,function(t,e,i){"use strict";var a=i(199);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,"",""])},function(t,e,i){"use strict";var a=i(200);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".section[data-v-31b572b2]{padding-bottom:0}span[data-v-31b572b2]{color:#39c9a0}.box[data-v-31b572b2]{width:800px;max-width:100%}.modal-content[data-v-31b572b2]{border-radius:6px;margin:0;color:#39c9a0;width:auto;overflow:visible}.level[data-v-31b572b2]{padding:1rem}.modal-card-body[data-v-31b572b2]{overflow:visible}.field[data-v-31b572b2]{margin:1em 0;display:flex;flex-wrap:wrap}.button.action[data-v-31b572b2]{width:12em;color:#fff;background-color:#39c9a0;border-color:#39c9a0}.post[data-v-31b572b2]{margin-right:.75em}.is-white[data-v-31b572b2]:hover{background-color:#e9ebee}.dropdown-content[data-v-31b572b2]{overflow:visible}div.animation-content[data-v-31b572b2]{margin:0}.block[data-v-31b572b2]{color:#39c9a0}.editor__content[data-v-31b572b2]{max-height:50vh;overflow-y:scroll;word-break:break-word}",""])},function(t,e,i){"use strict";var a=i(201);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".card[data-v-22b8f0bc]{border-radius:6px;min-width:350px}.message-header[data-v-22b8f0bc]{background:#39c9a0}.user-reacted[data-v-22b8f0bc]{background-color:rgba(57,201,160,.3)}.menu-list li a[data-v-22b8f0bc]{display:flex;justify-content:space-between;color:#39c9a0}",""])},,,,,,,,function(t,e,i){"use strict";var a=i(203);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".box[data-v-0a1fcaa5]{display:flex;flex-direction:column;justify-content:center}.general-navigation[data-v-0a1fcaa5]{margin-bottom:10px;text-decoration:none;color:#000}.modal-content[data-v-0a1fcaa5]{border-radius:6px;margin:0;color:#39c9a0;width:auto}.header-content[data-v-0a1fcaa5]{font-family:Helvetica Neue;font-size:1em;color:#000}",""])},function(t,e,i){"use strict";var a=i(204);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".box[data-v-56148ec7]{margin:25px;max-width:100%;text-align:center}.modal-content[data-v-56148ec7]{border-radius:6px;margin:0;color:#39c9a0;width:auto}",""])},function(t,e,i){"use strict";var a=i(205);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".columns[data-v-f5c657b0]{background:#fff}.align-icon[data-v-f5c657b0]{display:flex;justify-content:center;align-items:center}.theme-color[data-v-f5c657b0]{color:#39c9a0}.bottom-border[data-v-f5c657b0]{border-bottom:3px solid #39c9a0}.normal-border[data-v-f5c657b0]{border-bottom:3px solid #e0dddd}.padding[data-v-f5c657b0]{padding:5px}",""])},function(t,e,i){"use strict";var a=i(206);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".box[data-v-cc3a1e48]{max-width:100%;height:300px;width:400px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.modal-content[data-v-cc3a1e48]{border-radius:6px;margin:0;color:#39c9a0;width:auto}",""])},function(t,e,i){"use strict";var a=i(207);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".size[data-v-666f0200]{position:fixed;top:0;left:0;z-index:5;height:50px;width:100%}.theme-color-dark[data-v-666f0200]{color:#2f8168}.mobile-header-container[data-v-666f0200]{height:100px;-webkit-transform:translateZ(0);transform:translateZ(0);transition:all .3s ease-out}.hide-mobile-header-container[data-v-666f0200]{box-shadow:none;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}.mobile-header-top-container[data-v-666f0200]{padding:0 10px;background-color:#39c9a0}.mobile-header-bottom-container[data-v-666f0200]{background-color:#fff;border:1px solid #e0dddd;padding:0 10px}.on-bottom[data-v-666f0200]{position:relative;bottom:0;right:0}.selector[data-v-666f0200]{border:1px solid #000;border-radius:6px;padding:5px;height:40px}.margin-adjust[data-v-666f0200]{margin:0 0 0 -4px}.center[data-v-666f0200]{display:flex;justify-content:center;align-items:center}.half-height[data-v-666f0200]{height:50px}.mobile-nav-profile-picture[data-v-666f0200]{height:40px;width:40px;border:1px solid #e0dddd;border-radius:6px}.mobile-nav-link-picture[data-v-666f0200]{height:30px;width:30px;border:1px solid #e0dddd;border-radius:6px}.kowalla-logo-picture[data-v-666f0200]{height:25px;width:25px;margin-right:5px}.kowalla-logo[data-v-666f0200]{font-family:Nunito;font-size:1.75em;color:#fff;text-decoration:none}",""])},function(t,e,i){"use strict";var a=i(208);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".box[data-v-9641e3fc]{margin:25px;max-width:100%}.modal-content[data-v-9641e3fc]{align-self:center;border-radius:6px;margin:0;color:#39c9a0;width:auto}.dark-basic-theme[data-v-9641e3fc]{color:#39c9a0}",""])},,,function(t,e,i){"use strict";var a=i(209);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".size[data-v-56cc9fa4]{position:fixed;bottom:0;left:0;z-index:5;width:100%}.dark-basic-theme[data-v-56cc9fa4]{color:#fff}.create-button[data-v-56cc9fa4]{background-color:#fff;border:2px solid #2f8168;border-radius:35px;height:70px;width:70px;box-shadow:0 0 10px #333}.create-button[data-v-56cc9fa4],.create-button-2[data-v-56cc9fa4]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:0;right:0;margin:0 10px 10px 0}.create-button-2[data-v-56cc9fa4]{background-color:#39c9a0;border-radius:35px;height:65px;width:65px;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.kowalla-logo[data-v-56cc9fa4]{margin-left:20px;font-family:Nunito;font-size:2em;color:#fff;text-decoration:none;margin-right:10px}",""])},function(t,e,i){"use strict";var a=i(210);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".media[data-v-74fde5a0]{padding:1em .5em .5em}.button.action[data-v-74fde5a0]{width:12em;color:#fff;background-color:#39c9a0;border-color:#39c9a0}",""])},function(t,e,i){"use strict";var a=i(211);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".upvote[data-v-41405a12]{margin:.35em .5em 0;color:#000}p small[data-v-41405a12]{color:#999}small a[data-v-41405a12]{font-weight:700}.upvote.user-upvoted[data-v-41405a12],small a[data-v-41405a12]{color:#39c9a0}#reply[data-v-41405a12]{padding-bottom:1em}",""])},function(t,e,i){"use strict";var a=i(212);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".level[data-v-1fcf0fda]{padding-left:.5em;padding-bottom:.5em;display:flex;flex-wrap:wrap}.button[data-v-1fcf0fda]{border-width:medium;width:3em;height:2em;font-size:1.2em}.button[data-v-1fcf0fda],.button[data-v-1fcf0fda]:hover{color:#39c9a0;border-color:#39c9a0}.button[data-v-1fcf0fda]:hover{background-color:rgba(57,201,160,.3)}.comments[data-v-1fcf0fda]{color:#39c9a0;margin-left:.5em}.is-active.is-mobile-modal div.dropdown-item[data-v-1fcf0fda],div.dropdown-item[data-v-1fcf0fda]{padding:0}.is-hidden-tablet[data-v-1fcf0fda]{width:6em}.user-reacted[data-v-1fcf0fda],.user-reacted[data-v-1fcf0fda]:hover{background:#39c9a0;color:#fff}",""])},function(t,e,i){"use strict";var a=i(213);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".media-left[data-v-1277f0fc]{margin-right:.5em}.media-right[data-v-1277f0fc]{margin-left:auto}.card-header[data-v-1277f0fc]{padding:10px;box-shadow:none}.profilePic img[data-v-1277f0fc]{border-radius:.75em}span[data-v-1277f0fc]{color:#39c9a0}.grey[data-v-1277f0fc]{color:#999}.community[data-v-1277f0fc]{color:#39c9a0}.no-decor[data-v-1277f0fc]{text-decoration:none;color:#000}.underline[data-v-1277f0fc]:hover{color:#39c9a0;text-decoration:underline}.liveBox[data-v-1277f0fc]{border-radius:3px;padding:.125em .25em;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:red;color:#fff}",""])},function(t,e,i){"use strict";var a=i(214);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".liveBox[data-v-540312aa]{border-radius:6px;padding:.25em .5em;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:red;color:#fff;font-size:1.5em}",""])},function(t,e,i){"use strict";var a=i(215);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,"div.card[data-v-07d8f31d]{border-radius:6px 6px 0 0;padding:0 5em}@media only screen and (max-width:600px){div.card[data-v-07d8f31d]{padding:0}}.box[data-v-07d8f31d]{width:55em;max-width:100%}.modal-content[data-v-07d8f31d]{border-radius:6px;margin:0;color:#39c9a0;width:auto;height:auto;overflow:visible}.content[data-v-07d8f31d]{max-height:60vh;overflow-y:scroll;word-break:break-word}",""])},function(t,e,i){"use strict";var a=i(216);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".level[data-v-4da01963]{padding-left:.5em;padding-bottom:.5em;display:flex;flex-wrap:wrap}.button[data-v-4da01963]{border-width:medium;width:3em;height:2em;font-size:1.2em}.button[data-v-4da01963],.button[data-v-4da01963]:hover{color:#39c9a0;border-color:#39c9a0}.button[data-v-4da01963]:hover{background-color:rgba(57,201,160,.3)}.comments[data-v-4da01963]{color:#39c9a0;margin-left:.5em;cursor:pointer}.is-active.is-mobile-modal div.dropdown-item[data-v-4da01963],div.dropdown-item[data-v-4da01963]{padding:0}.is-hidden-tablet[data-v-4da01963]{width:6em}.user-reacted[data-v-4da01963],.user-reacted[data-v-4da01963]:hover{background:#39c9a0;color:#fff}.visible[data-v-4da01963]{display:none}",""])},function(t,e,i){"use strict";var a=i(217);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,"#content-box[data-v-5a9bee38]{padding:1em .5em;max-height:30em;overflow:hidden}#content-box.fullHeight[data-v-5a9bee38]{max-height:none}#content-box .read-more[data-v-5a9bee38]{position:absolute;bottom:4em;left:0;width:100%;text-align:center;margin:0;padding:30px 0 0;background-image:linear-gradient(180deg,transparent,#fff,#fff)}b-icon[data-v-5a9bee38]{color:#000}.media-content[data-v-5a9bee38]{padding:0 2em}.card[data-v-5a9bee38]{border-radius:6px;margin-bottom:1em}.content[data-v-5a9bee38]{word-break:break-word}",""])},function(t,e,i){var a=i(326);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("fd3e038c",a,!0,{})},function(t,e,i){var a=i(328);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("0edad240",a,!0,{})},function(t,e,i){"use strict";var a=i(218);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".description-string[data-v-06808c65]{font-family:Helvetica Neue;font-size:.75em;color:#999;margin:8px}",""])},function(t,e,i){"use strict";var a=i(219);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".info-pane-container[data-v-52fbbc63]{max-width:250px;width:100%}.wrapper-container[data-v-52fbbc63]{display:flex;flex-direction:column;align-items:center;width:100%}.wrapper-margin>*[data-v-52fbbc63]{margin-bottom:10px}",""])},,function(t,e,i){"use strict";var a=i(238),o={name:"ChangeLocationModal",components:{NavCard:i(287).a,NavPane:a.a},methods:{closeModal:function(){this.$parent.close()}}},s=(i(242),i(26)),n=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-content"},[i("div",{staticClass:"box is-narrow"},[i("div",{staticClass:"center mobile-nav-link-picture"},[i("nuxt-link",{attrs:{to:"/dev"},nativeOn:{click:function(e){return t.closeModal()}}},[i("div",{staticClass:"general-navigation"},[i("font-awesome-icon",{attrs:{icon:"home"}}),t._v(" "),i("span",[i("b",[t._v("Home")])])],1)])],1),t._v(" "),t._m(0),t._v(" "),i("NavCard",{attrs:{type:"user",selector:"owned"},on:{"nav-card-link-clicked":function(e){return t.closeModal()}}}),t._v(" "),t._m(1),t._v(" "),i("NavCard",{attrs:{type:"user",selector:"subscriptions"},on:{"nav-card-link-clicked":function(e){return t.closeModal()}}})],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"header-content"},[e("b",[this._v("Your Projects and Communities")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"header-content"},[e("b",[this._v("Your Subscriptions")])])}],!1,null,"0a1fcaa5",null);n.options.__file="ChangeLocationModal.vue";var r=n.exports,c=(i(14),{name:"TestModal",props:{modalText:String},methods:{closeModal:function(){console.log("closeModal"),this.$parent.close()}},directives:{"clicked-outside":{bind:function(t,e,i){if("function"!=typeof e.value){var a=i.context.name,o="[Vue-click-outside:] provided expression '".concat(e.expression,"' is not a function, but has to be");a&&(o+="Found in component '".concat(a,"'")),console.warn(o)}var s=e.modifiers.bubble,n=function(i){(s||!t.contains(i.target)&&t!==i.target)&&e.value(i)};t.__vueClickOutside__=n,document.addEventListener("click",n)},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),t.__vueClickOutside__=null}}}}),l=(i(244),Object(s.a)(c,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"clicked-outside",rawName:"v-clicked-outside",value:this.closeModal,expression:"closeModal"}],staticClass:"modal-content"},[e("div",{staticClass:"box"},[this._v("\n    "+this._s(this.modalText)+"\n  ")])])},[],!1,null,"56148ec7",null));l.options.__file="TestModal.vue";var d=l.exports,u={name:"MobileNavIcon",components:{TestModal:d},data:function(){return{isPosts:!0,isSearch:!1,isNotif:!1,isMenu:!1,activeModal:null}},methods:{togglePosts:function(){var t=[!0,!1,!1,!1];this.isPosts=t[0],this.isSearch=t[1],this.isNotif=t[2],this.isMenu=t[3]},toggleSearch:function(){var t=[!1,!0,!1,!1];this.isPosts=t[0],this.isSearch=t[1],this.isNotif=t[2],this.isMenu=t[3],this.$modal.open({parent:this,component:d,props:{modalText:"Search",modalOpen:this.isSearch},width:300,hasModalCard:!0})},toggleNotif:function(){var t=[!1,!1,!0,!1];this.isPosts=t[0],this.isSearch=t[1],this.isNotif=t[2],this.isMenu=t[3],this.$modal.open({parent:this,component:d,props:{modalText:"Notif",modalOpen:this.isNotif},width:300,hasModalCard:!0})},toggleMenu:function(){var t=[!1,!1,!1,!0];this.isPosts=t[0],this.isSearch=t[1],this.isNotif=t[2],this.isMenu=t[3],this.$modal.open({parent:this,component:d,props:{modalText:"Menu Options",modalOpen:this.isMenu},width:300,hasModalCard:!0})}}},p=(i(246),Object(s.a)(u,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns is-mobile is-marginless"},[i("div",{staticClass:"column align-icon is-paddingless is-one-third",class:{"bottom-border":t.isPosts,"normal-border":!t.isPosts},on:{click:t.togglePosts}},[i("div",{staticClass:"align-icon"},[i("b-icon",{staticClass:"padding",class:{"theme-color":t.isPosts},attrs:{icon:"view-quilt"}}),t._v(" "),i("span",{staticClass:"padding",class:{"theme-color":t.isPosts}},[i("b",[t._v("Posts")])])],1)]),t._v(" "),i("div",{staticClass:"column align-icon is-paddingless",class:{"bottom-border":t.isSearch,"normal-border":!t.isSearch},on:{click:t.toggleSearch}},[i("b-icon",{staticClass:"dark-basic-theme",class:{"theme-color":t.isSearch},attrs:{icon:"magnify"}})],1),t._v(" "),i("div",{staticClass:"column align-icon is-paddingless",class:{"bottom-border":t.isNotif,"normal-border":!t.isNotif},on:{click:t.toggleNotif}},[i("b-icon",{staticClass:"dark-basic-theme",class:{"theme-color":t.isNotif},attrs:{icon:"bell-outline"}})],1),t._v(" "),i("div",{staticClass:"column align-icon is-paddingless",class:{"bottom-border":t.isMenu,"normal-border":!t.isMenu},on:{click:t.toggleMenu}},[i("b-icon",{staticClass:"dark-basic-theme",class:{"theme-color":t.isMenu},attrs:{icon:"dots-horizontal"}})],1)])},[],!1,null,"f5c657b0",null));p.options.__file="MobileNavIcons.vue";var m=p.exports,f=i(295),h={name:"SearchModal",components:{Searchbar:i(296).a},props:{modalText:String},methods:{closeModal:function(){this.$parent.close()}}},v=(i(248),Object(s.a)(h,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-content"},[e("div",{staticClass:"box"},[e("b",[this._v("Find something great")]),this._v(" "),e("Searchbar",{on:{"option-selected":this.closeModal}})],1)])},[],!1,null,"cc3a1e48",null));v.options.__file="SearchModal.vue";var b=v.exports,g={name:"MobileHeader",components:{ChangeLocationModal:r,MobileNavIcons:m,SortingOptions:f.a},data:function(){return{showNavbar:!0,lastScrollPosition:0,scrollValue:0}},props:{locationToDisplay:String,locationPictureToDisplay:{type:String,default:""},isHome:{type:Boolean,default:!1}},methods:{callChangeLocationModal:function(){this.$modal.open({parent:this,component:r,width:300,hasModalCard:!0})},callSearchModal:function(){this.$modal.open({parent:this,component:b,props:{modalText:"Search"},width:300,hasModalCard:!0})},callNotifModal:function(){this.$modal.open({parent:this,component:d,props:{modalText:"Notif"},width:300,hasModalCard:!0})},onScroll:function(){window.pageYOffset<0||Math.abs(window.pageYOffset-this.lastScrollPosition)<50||(this.showNavbar=window.pageYOffset<this.lastScrollPosition,this.lastScrollPosition=window.pageYOffset)}},mounted:function(){this.lastScrollPosition=window.pageYOffset,window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},x=(i(250),Object(s.a)(g,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"size"},[i("div",{staticClass:"mobile-header-container is-touch",class:{"hide-mobile-header-container":!t.showNavbar}},[i("div",{staticClass:"level half-height is-mobile mobile-header-top-container is-marginless"},[i("nuxt-link",{attrs:{to:"/dev/"}},[i("div",{staticClass:"level-left kowalla-logo"},[i("img",{staticClass:"kowalla-logo-picture",attrs:{src:"https://i.imgur.com/04hoRgV.png"}}),t._v("\n          kowalla\n\n        ")])]),t._v(" "),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item align-icon",on:{click:t.callSearchModal}},[i("b-icon",{staticClass:"theme-color-dark",attrs:{icon:"magnify"}})],1),t._v(" "),i("div",{staticClass:"level-item align-icon",on:{click:t.callNotifModal}},[i("b-icon",{staticClass:"theme-color-dark",attrs:{icon:"bell-outline"}})],1),t._v(" "),i("div",{staticClass:"level-item"},[i("nuxt-link",{attrs:{to:"/dev/u/"+this.$store.state.user.username}},[i("img",{staticClass:"mobile-nav-profile-picture",attrs:{src:this.$store.state.user.profilePicture}})])],1)])],1),t._v(" "),i("div",{staticClass:"level mobile-header-bottom-container half-height is-mobile"},[i("div",{staticClass:"level-left selector",on:{click:t.callChangeLocationModal}},[i("div",{staticClass:"level-item"},[t.isHome?i("div",{staticClass:"center mobile-nav-link-picture"},[i("font-awesome-icon",{attrs:{icon:"home"}})],1):i("img",{staticClass:"mobile-nav-link-picture",attrs:{src:t.locationPictureToDisplay}})]),t._v(" "),i("div",{staticClass:"level-item margin-adjust"},[i("b",[t._v(t._s(t.locationToDisplay))])]),t._v(" "),i("div",{staticClass:"level-item margin-adjust"},[i("font-awesome-icon",{attrs:{icon:"angle-down"}})],1)]),t._v(" "),i("div",{staticClass:"level-right"},[i("SortingOptions",{attrs:{isMobile:""}})],1)])])])},[],!1,null,"666f0200",null));x.options.__file="MobileHeader.vue";e.a=x.exports},function(t,e,i){"use strict";var a={name:"MobileCreateModal",methods:{emitSelection:function(t){this.$emit(t),this.$parent.close()}}},o=(i(252),i(26)),s=Object(o.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-content"},[i("div",{staticClass:"box"},[i("div",{staticClass:"level",on:{click:function(e){return t.emitSelection("post")}}},[i("b-icon",{staticClass:"dark-basic-theme",attrs:{icon:"square-edit-outline",size:"is-small"}}),t._v("\n\n        Create a new Post\n    ")],1),t._v(" "),i("div",{staticClass:"level",on:{click:function(e){return t.emitSelection("community")}}},[i("b-icon",{staticClass:"dark-basic-theme",attrs:{icon:"account-group",size:"is-small"}}),t._v("\n\n        Create a new Community\n    ")],1),t._v(" "),i("div",{staticClass:"level",on:{click:function(e){return t.emitSelection("project")}}},[i("b-icon",{staticClass:"dark-basic-theme",attrs:{icon:"developer-board",size:"is-small"}}),t._v("\n\n        Create a new Project\n    ")],1)])])},[],!1,null,"9641e3fc",null);s.options.__file="MobileCreateModal.vue";var n=s.exports,r=i(227),c={name:"MobileFooter",components:{MobileCreateModal:n},data:function(){return{}},methods:{callMobileCreateModal:function(){var t=this;this.$modal.open({parent:this,component:n,width:400,hasModalCard:!0,canCancel:!0,events:{post:function(){t.callCreatePostModal()},community:function(){},project:function(){}}})},callCreatePostModal:function(){this.$modal.open({parent:this,component:r.a,width:400,hasModalCard:!0,canCancel:!0})}}},l=(i(256),Object(o.a)(c,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"size"},[e("div",{staticClass:"create-button-2",on:{click:this.callMobileCreateModal}},[e("b-icon",{staticClass:"dark-basic-theme",attrs:{icon:"plus",size:"is-medium"}})],1)])},[],!1,null,"56cc9fa4",null));l.options.__file="MobileFooter.vue";e.a=l.exports},function(t,e,i){"use strict";i(13);var a=i(1),o=i.n(a),s=(i(15),i(16)),n=i.n(s),r=i(220),c=(i(236),i(221)),l=(i(235)||"").Picker,d={name:"Reactions",components:{ReactionModal:r.a,Picker:l},props:{postId:String},data:function(){return{reactionList:[],reactionsFormatted:[]}},methods:{toggleReaction:function(){var t=o()(regeneratorRuntime.mark(function t(e){var i,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i="string"==typeof e?e:e.native,t.next=3,this.reactionsFormatted.map(function(t){return t.emoji}).indexOf(i);case 3:if(a=t.sent,o="object"===n()(e),-1!==a&&!1!==this.reactionsFormatted[a].userReacted){t.next=9;break}return t.abrupt("return",this.toggleReactionTrue(i,a,o));case 9:if(-1===a||!0!==this.reactionsFormatted[a].userReacted){t.next=11;break}return t.abrupt("return",this.toggleReactionFalse(i,a));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),toggleReactionTrue:function(){var t=o()(regeneratorRuntime.mark(function t(e,i,a){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/v1/profiles/".concat(this.$store.state.user._id,"/reactions"),{emoji:e,postId:this.postId});case 2:-1===i?(this.reactionsFormatted.push({emoji:e,count:1,userReacted:!1}),o=this.reactionsFormatted.map(function(t){return t.emoji}).indexOf(e),this.reactionsFormatted[o].userReacted=!0):(this.reactionsFormatted[i].userReacted=!0,this.reactionsFormatted[i].count++),a&&this.$refs.dropdown.toggle();case 4:case"end":return t.stop()}},t,this)}));return function(e,i,a){return t.apply(this,arguments)}}(),toggleReactionFalse:function(){var t=o()(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.delete("/api/v1/profiles/".concat(this.$store.state.user._id,"/reactions/").concat(this.postId),{data:{emoji:e}});case 2:this.reactionsFormatted[i].count--,this.reactionsFormatted[i].userReacted=!1,0===this.reactionsFormatted[i].count&&this.reactionsFormatted.splice(i,1);case 5:case"end":return t.stop()}},t,this)}));return function(e,i){return t.apply(this,arguments)}}(),cardModal:function(){this.$modal.open({parent:this,component:r.a,props:{reactionsFormatted:this.reactionsFormatted,toggleReaction:this.toggleReaction},hasModalCard:!0})},showPost:function(){this.$emit("open-post")}},computed:{reactionCount:function(){var t=0;return this.reactionsFormatted.length>3&&this.reactionsFormatted.slice(3).map(function(e){t=e.count+t}),t},reactionCountMobile:function(){var t=0;return this.reactionsFormatted.map(function(e){t=e.count+t}),t}},mounted:function(){var t=o()(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.$get("/api/v1/reactions/".concat(this.postId));case 3:this.reactionList=t.sent,this.reactionList.length&&this.reactionList.forEach(function(t){var i=t.profileId===e.$store.state.user._id,a=e.reactionsFormatted.map(function(t){return t.emoji}).indexOf(t.emoji);-1===a?(e.reactionsFormatted.push({emoji:t.emoji,count:1,userReacted:!1}),i&&(a=e.reactionsFormatted.map(function(t){return t.emoji}).indexOf(t.emoji),e.reactionsFormatted[a].userReacted=!0)):(e.reactionsFormatted[a].count++,i&&(e.reactionsFormatted[a].userReacted=!0))}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("some kind of error idk");case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},u=(i(270),i(26)),p=Object(u.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level is-mobile"},[i("div",{staticClass:"reactions level-left"},[t._l(t.reactionsFormatted.slice(0,3),function(e,a){return i("a",{staticClass:"button is-outlined iterator level-item is-hidden-mobile",class:{"user-reacted":e.userReacted},on:{click:function(i){return t.toggleReaction(e.emoji,a)}}},[i("b",[t._v(t._s(e.emoji)+t._s(e.count))])])}),t._v(" "),t.reactionCount?i("a",{staticClass:"button is-outlined level-item is-hidden-mobile",on:{click:function(e){return t.cardModal()}}},[i("b",[t._v("··· "+t._s(t.reactionCount))])]):t._e(),t._v(" "),t.reactionsFormatted.length?i("a",{staticClass:"button is-outlined iterator level-item is-hidden-tablet",on:{click:function(e){return t.cardModal()}}},[i("b",[t._l(t.reactionsFormatted.slice(0,3),function(e,a){return i("span",{staticClass:"is-marginless is-paddingless"},[t._v(t._s(e.emoji))])}),t._v(t._s(t.reactionCountMobile))],2)]):t._e(),t._v(" "),i("BDropdown",{ref:"dropdown",attrs:{"mobile-modal":""}},[i("a",{staticClass:"button is-outlined level-item",attrs:{slot:"trigger"},slot:"trigger"},[i("font-awesome-icon",{attrs:{icon:"smile"}})],1),t._v(" "),i("BDropdownItem",{attrs:{custom:""}},[i("Picker",{attrs:{set:"apple",showSkinTones:!1,showPreview:!1},on:{select:t.toggleReaction}})],1)],1),t._v(" "),i("div",{staticClass:"comments level-item",on:{click:function(e){return t.showPost()}}},[i("font-awesome-icon",{attrs:{icon:"comments"}}),t._v(" Comments\n        ")],1)],2)])},[],!1,null,"4da01963",null);p.options.__file="reactions.vue";var m=p.exports,f=i(224),h=i(225),v=i(77),b={name:"Post",components:{PostTimer:h.a,PostHeader:f.a,Reactions:m},props:{post:Object,hideComments:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},data:function(){return{project:{},community:{},profile:{},isProject:!1,overflow:!1}},mounted:function(){var t=o()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.post.hasOwnProperty("projectId")){t.next=14;break}return this.isProject=!0,t.prev=2,t.next=5,this.$axios.$get("/api/v1/projects/".concat(this.post.projectId));case 5:return this.project=t.sent,t.next=8,this.$axios.$get("/api/v1/communities/".concat(this.post.communityId));case 8:this.community=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log("error grabbing some values");case 14:if(!this.post.hasOwnProperty("profileId")){t.next=28;break}return this.isProject=!1,t.prev=16,t.next=19,this.$axios.$get("/api/v1/profiles/".concat(this.post.profileId));case 19:return this.profile=t.sent,t.next=22,this.$axios.$get("/api/v1/communities/".concat(this.post.communityId));case 22:this.community=t.sent,t.next=28;break;case 25:t.prev=25,t.t1=t.catch(16),console.log("error grabbing some values");case 28:v.a.isActivePost(this.post)||(this.post.isActive=!1,this.$axios.put("/api/v1/posts/".concat(this.post._id),{isActive:!1})),this.$refs.content&&this.$refs.content.getBoundingClientRect().height>=480&&(this.overflow=!0);case 30:case"end":return t.stop()}},t,this,[[2,11],[16,25]])}));return function(){return t.apply(this,arguments)}}(),methods:{openPost:function(){this.isMobile?this.$router.push({path:"/dev/mobile/".concat(this.post._id)}):this.$modal.open({parent:this,component:c.a,props:{post:this.post,profile:this.profile,project:this.project,community:this.community,isProject:this.isProject},width:900,hasModalCard:!0})}}},g=(i(272),Object(u.a)(b,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[i("post-header",{attrs:{isActive:t.post.isActive,createdAt:this.post.createdAt,profile:this.profile,project:this.project,community:this.community,isProject:this.isProject}}),t._v(" "),t.post.isActive?i("PostTimer",{attrs:{time:t.post.expiration}}):t._e(),t._v(" "),i("div",{ref:"content",class:{fullHeight:!t.overflow},attrs:{id:"content-box"}},[i("div",{staticClass:"content is-marginless",domProps:{innerHTML:t._s(t.post.content)}}),t._v(" "),t.overflow?i("p",{staticClass:"read-more",on:{click:function(e){t.overflow=!t.overflow}}},[i("a",[t._v("Read More")])]):t._e()]),t._v(" "),i("br"),t._v(" "),i("Reactions",{attrs:{postId:this.post._id},on:{"open-post":t.openPost}})],1)},[],!1,null,"5a9bee38",null));g.options.__file="NewsfeedPost.vue";e.a=g.exports},function(t,e,i){"use strict";var a={name:"Description-Card",components:{Card:i(228).a},props:{headerString:{type:String,default:""},subheaderString:{type:String,default:""},subheaderURL:{type:String,default:""},headerOn:{type:Boolean,default:!0},subheaderOn:{type:Boolean,default:!0}}},o=(i(276),i(26)),s=Object(o.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("Card",{attrs:{headerString:this.headerString,subheaderString:this.subheaderString,subheaderURL:this.subheaderURL,subheaderOn:this.subheaderOn,headerOn:this.headerOn}},[e("div",{staticClass:"description-string"},[this._t("default")],2)])},[],!1,null,"06808c65",null);s.options.__file="DescriptionCard.vue";e.a=s.exports},function(t,e,i){"use strict";var a={name:"InfoPane"},o=(i(278),i(26)),s=Object(o.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info-pane-container"},[e("div",{staticClass:"wrapper-margin wrapper-container"},[this._t("default")],2)])},[],!1,null,"52fbbc63",null);s.options.__file="InfoPane.vue";e.a=s.exports},,,,function(t,e,i){"use strict";var a=i(222);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".kow-button[data-v-8ca83df8]{height:35px;border-radius:6px;background-color:#fff;border:1px solid #e0dddd;font-family:Helvetica Neue;color:#39c9a0;font-size:.875em;cursor:pointer}.kow-button[data-v-8ca83df8]:hover{background-color:rgba(57,201,160,.75);border:1px solid #2f8168;color:#fff}.kow-button[data-v-8ca83df8]:focus{outline:none}",""])},function(t,e,i){"use strict";var a=i(223);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".profile-card-container[data-v-b44e8ba6]{display:flex;width:100%;align-items:center;flex-direction:column;background-color:#fff;height:225px;width:215px}.image[data-v-b44e8ba6],.profile-card-container[data-v-b44e8ba6]{border:1px solid #e0dddd;border-radius:6px}.image[data-v-b44e8ba6]{margin-top:16px;margin-bottom:8px;height:86px;width:86px}.font-family[data-v-b44e8ba6]{font-family:Helvetica Neue}.font-family[data-v-b44e8ba6],.name[data-v-b44e8ba6]{text-decoration:none}.name[data-v-b44e8ba6]{font-size:1em;color:#000}.username[data-v-b44e8ba6]{margin-top:-4px;font-size:.75em;color:#999}.username[data-v-b44e8ba6]:hover{color:#39c9a0;cursor:pointer}.stats-container[data-v-b44e8ba6]{width:100%}.stat-container[data-v-b44e8ba6]{display:flex;flex-direction:column;width:48px;margin:0 5px}.stat-title[data-v-b44e8ba6]{font-size:.75em;color:#000}.stat-info[data-v-b44e8ba6]{margin-top:-2px;font-size:1em;color:#39c9a0}.subheader[data-v-b44e8ba6]{border-top:1px solid #e0dddd;padding-top:4px;padding-bottom:4px;padding-left:8px;width:100%;text-align:center;vertical-align:middle}.subheader-content[data-v-b44e8ba6]{font-family:Helvetica Neue;font-size:.75em;color:#39c9a0}.subheader-content[data-v-b44e8ba6]:hover{text-decoration:underline}.username-link[data-v-b44e8ba6]{font-family:Helvetica Neue;font-size:1em;color:#999;text-decoration:none;cursor:pointer}.username-link[data-v-b44e8ba6]:hover{text-decoration:underline;color:#39c9a0}",""])},function(t,e,i){"use strict";var a={name:"KowButton",props:{nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,autofocus:Boolean},computed:{buttonDisabled:function(){return this.disabled}},methods:{handleClick:function(t){this.$emit("edit-button-clicked",t)}}},o=(i(289),i(26)),s=Object(o.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"kow-button",attrs:{disabled:this.buttonDisabled,autofocus:this.autofocus,type:this.nativeType},on:{click:this.handleClick}},[this.$slots.default?e("span",[this._t("default")],2):this._e()])},[],!1,null,"8ca83df8",null);s.options.__file="EditButton.vue";e.a=s.exports},function(t,e,i){"use strict";i(14),i(228);var a={name:"ProfileCard",props:{name:String,username:String,profilePictureURL:{type:String,default:""},subheaderString:{type:String,default:"test"},subheaderURL:{type:String,default:"/about"},stats:Array,type:String,isMobile:{type:Boolean,default:!1}},computed:{getStatInfoByIndex:function(t){return this.stats[t].name},getRoute:function(){return"project"===this.type?"/dev/p/".concat(this.username):"/dev/u/".concat(this.username)}}},o=(i(291),i(26)),s=Object(o.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-card-container"},[i("nuxt-link",{attrs:{to:t.getRoute}},[i("img",{staticClass:"image",attrs:{src:t.profilePictureURL}})]),t._v(" "),i("nuxt-link",{staticClass:"name font-family",attrs:{to:t.getRoute}},[i("b",[t._v(t._s(t.name))])]),t._v(" "),i("div",{staticClass:"username font-family"},[i("nuxt-link",{staticClass:"username-link",attrs:{to:t.getRoute}},[i("b",[t._v("@"+t._s(t.username))])])],1),t._v(" "),i("div",{staticClass:"level is-marginless",class:{"is-mobile":t.isMobile}},t._l(t.stats,function(e){return i("div",{staticClass:"level-item stat-container is-paddingless"},[i("div",{staticClass:"stat-title"},[i("b",[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"stat-info"},[i("b",[t._v(t._s(e.stat))])])])}),0),t._v(" "),i("div",{staticClass:"subheader"},[i("nuxt-link",{staticClass:"subheader-content",attrs:{to:t.subheaderURL}},[i("b",[t._v(t._s(t.subheaderString))])])],1)],1)},[],!1,null,"b44e8ba6",null);s.options.__file="ProfileCard.vue";e.a=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var a=i(274);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".sub-button[data-v-6ced5fb8]{height:45px;width:180px;border-radius:6px;border:2px solid #2f8168;margin:6px;font-family:Helvetica Neue;font-size:.875em;cursor:pointer}.sub-button[data-v-6ced5fb8]:focus{outline:none}.is-subscribed[data-v-6ced5fb8]{color:#fff;background-color:#39c9a0}.is-subscribed[data-v-6ced5fb8]:hover{border:2px solid #fff}.is-not-subscribed[data-v-6ced5fb8]{color:#39c9a0;background-color:#fff}.is-not-subscribed[data-v-6ced5fb8]:hover{border:2px solid #39c9a0}",""])},function(t,e,i){"use strict";var a=i(275);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".banner-container[data-v-6d590117]{position:relative;height:300px;border:1px solid #000;display:flex;flex-direction:column}.image[data-v-6d590117]{display:block;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.banner-title[data-v-6d590117]{position:absolute;left:0;bottom:0;margin-right:60px;padding-left:15px;width:100%;height:75px;background-color:rgba(0,0,0,.5);color:#fff;display:flex;justify-content:flex-start;align-items:center}.banner-font-desktop[data-v-6d590117]{font-size:3.75em}.banner-font-mobile[data-v-6d590117]{font-size:2em}.banner-subscription-button-container[data-v-6d590117]{position:absolute;top:15px;right:15px}",""])},,,,function(t,e,i){var a=i(413);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("434e887f",a,!0,{})},function(t,e,i){var a=i(415);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(25).default)("80623736",a,!0,{})},,,,,,,,,function(t,e,i){"use strict";var a={name:"SubscriptionButton",props:{isSubscribed:Boolean},computed:{getClasses:function(){return{"is-subscribed":this.isSubscribed,"is-not-subscribed":!this.isSubscribed}},getText:function(){return this.isSubscribed?"Subscribed":"Subscribe"}},methods:{handleClick:function(){this.$emit("subscription-button-clicked",!this.isSubscribed)}}},o=(i(325),i(26)),s=Object(o.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"sub-button",class:this.getClasses,on:{click:this.handleClick}},[e("b",[this._v(this._s(this.getText))])])},[],!1,null,"6ced5fb8",null);s.options.__file="SubscriptionButton.vue";var n={name:"Banner",components:{SubscriptionButton:s.exports},props:{bannerURL:String,bannerTitle:String,bannerTitlePrefix:String,isSubscribed:Boolean,isOwner:Boolean,isMobile:{type:Boolean,default:!1}},methods:{handleClick:function(t){this.$emit("subscription-button-clicked",t)}},mounted:function(){this.isMobile&&console.log("mobile banner")}},r=(i(327),Object(o.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner-container"},[i("img",{staticClass:"image",attrs:{src:t.bannerURL}}),t._v(" "),i("div",{staticClass:"banner-subscription-button-container"},[t.isOwner?t._e():i("SubscriptionButton",{attrs:{isSubscribed:t.isSubscribed},on:{"subscription-button-clicked":t.handleClick}})],1),t._v(" "),i("div",{staticClass:"banner-title",class:{"banner-font-desktop":!t.isMobile,"banner-font-mobile":t.isMobile}},[i("b",[t._v(t._s(t.bannerTitlePrefix)+t._s(t.bannerTitle))])])])},[],!1,null,"6d590117",null));r.options.__file="Banner.vue";e.a=r.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var a=i(332);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,".box[data-v-9bd66920]{width:800px;max-width:100%}.modal-content[data-v-9bd66920]{border-radius:6px;margin:0;color:#39c9a0;width:auto}",""])},function(t,e,i){"use strict";var a=i(333);i.n(a).a},function(t,e,i){(t.exports=i(24)(!1)).push([t.i,"",""])},,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var a=i(28),o=i.n(a),s=(i(241),i(13),i(1)),n=i.n(s),r=i(281),c=i(282),l=i(280),d=i(238),u=i(342),p=i(284),m=i(294),f=i(285),h=i(293),v=(i(14),{name:"CreateSpaceModal",data:function(){return{editForm:{name:"",description:"",profilePicture:"",headerPicture:"",admins:[]}}},props:{name:String,headerPicture:String,profilePicture:String,description:String,projectId:String},mounted:function(){this.editForm.name=this.name,this.editForm.headerPicture=this.headerPicture,this.editForm.profilePicture=this.profilePicture,this.editForm.description=this.description},methods:{editProject:function(){var t=n()(regeneratorRuntime.mark(function t(e){var i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("edit project"),t.prev=1,t.next=4,this.$axios.put("api/v1/projects/".concat(this.projectId),{name:e.name,description:e.description,profilePicture:e.profilePicture,headerPicture:e.headerPicture});case 4:i=t.sent,console.log(i),200===i.status&&(a={name:i.data.name,pictureURL:i.data.profilePicture,projectId:i.data._id},this.$store.commit("user/editOwned",a),i.data.name!==this.name?this.$router.push({path:"/dev/p/".concat(i.data.name)}):this.$router.go(),this.$parent.close()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}}),b=(i(412),i(26)),g=Object(b.a)(v,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-content"},[i("div",{staticClass:"box"},[i("section",[i("div",{staticClass:"title"},[t._v("Edit "+t._s(t.name))]),t._v(" "),i("b-field",{attrs:{label:"Project username"}},[i("b-input",{attrs:{maxlength:"15"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),t._v(" "),i("b-field",{attrs:{label:"Profile Picture"}},[i("b-input",{attrs:{maxlength:"200"},model:{value:t.editForm.profilePicture,callback:function(e){t.$set(t.editForm,"profilePicture",e)},expression:"editForm.profilePicture"}})],1),t._v(" "),i("b-field",{attrs:{label:"Banner Picture"}},[i("b-input",{attrs:{maxlength:"200"},model:{value:t.editForm.headerPicture,callback:function(e){t.$set(t.editForm,"headerPicture",e)},expression:"editForm.headerPicture"}})],1),t._v(" "),i("b-field",{attrs:{label:"Description"}},[i("b-input",{attrs:{maxlength:"500",type:"textarea"},model:{value:t.editForm.description,callback:function(e){t.$set(t.editForm,"description",e)},expression:"editForm.description"}})],1),t._v(" "),i("a",{staticClass:"button action",on:{click:function(e){return t.editProject(t.editForm)}}},[t._v("\n          Submit\n      ")])],1)])])},[],!1,null,"9bd66920",null);g.options.__file="EditProjectModal.vue";var x=g.exports,_=i(283),w=i(221),C={name:"user-page-test",components:{Header:l.a,MobileHeader:r.a,MobileFooter:c.a,NavPane:d.a,Banner:u.a,DescriptionCard:p.a,ProfileCard:m.a,InfoPane:f.a,EditButton:h.a,EditProjectModal:x,Post:_.a},data:function(){return{projectName:null,bannerPictureURL:"",projectProfilePictureURL:"",projectDescription:"",admins:null,isSubscribed:!1,isOwner:!1,numSubs:0,projectId:"",adminFirstName:"",adminLastName:"",adminUsername:"",adminProfilePictureURL:"",projectStats:[],profileStats:[],postList:[],isNestedURL:!1,showMobilePostView:!1}},created:function(){this.projectName=this.$route.params.projectname,this.$route.params.hasOwnProperty("postId")&&(this.isNestedURL=!0)},mounted:function(){var t=n()(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isOwner=this.$store.getters["user/isUserOwner"],this.isSubscribed=this.$store.getters["user/isUserSubscribed"],t.next=4,this.$axios.get("/api/v1/projects/p/".concat(this.projectName));case 4:return e=t.sent,this.bannerPictureURL=e.data.headerPicture,this.projectProfilePictureURL=e.data.profilePicture,this.projectId=e.data._id,this.projectDescription=e.data.description,this.admins=e.data.admins,this.projectStats.push({name:"Subs",stat:e.data.subscribers}),this.projectStats.push({name:"Rep",stat:e.data.reputation}),this.projectStats.push({name:"Posts",stat:e.data.postCount}),t.next=15,this.$axios.get("/api/v1/profiles/".concat(this.admins[0]));case 15:if(i=t.sent,this.adminFirstName=i.data.firstName,this.adminLastName=i.data.lastName,this.adminUsername=i.data.username,this.adminProfilePictureURL=i.data.profilePicture,this.profileStats.push({name:"Rep",stat:i.data.reputation}),this.profileStats.push({name:"Posts",stat:i.data.postCount}),this.profileStats.push({name:"Replies",stat:i.data.commentCount}),!this.isNestedURL){t.next=28;break}return t.next=26,this.$axios.$get("/api/v1/posts/".concat(this.$route.params.postId));case 26:this.post=t.sent,this.$modal.open({parent:this,component:w.a,props:{post:this.post,isFromNestedURL:!0,fallbackURL:"/dev/p/".concat(this.projectName)},width:900,hasModalCard:!0});case 28:return t.next=30,this.$axios.$get("/api/v1/posts/project/".concat(this.projectId,"/").concat(this.sort,"/").concat(this.postList.length));case 30:return this.postList=t.sent,t.next=33,this.scroll();case 33:console.log(this.postList),document.title="Kowalla - @".concat(this.projectName);case 35:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{getProjectName:function(){return this.projectName},sort:function(){return this.$store.state.sorting.project}},watch:{sort:function(){var t=n()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$get("/api/v1/posts/project/".concat(this.projectId,"/").concat(this.sort,"/0"));case 2:return this.postList=t.sent,t.next=5,this.scroll();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},methods:{scroll:function(){var t=n()(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.postList.length&&(e=!1,window.onscroll=function(){var t=n()(regeneratorRuntime.mark(function t(a){var o,s,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=document.getElementById("postFeed"),s=window.innerHeight+window.scrollY>=o.offsetHeight-300,e||!s){t.next=15;break}return e=!0,t.next=6,i.$axios.$get("/api/v1/posts/project/".concat(i.projectId,"/").concat(i.sort,"/").concat(i.postList.length));case 6:return n=t.sent,t.next=9,i.postList.concat(n);case 9:if(r=t.sent,!n.length){t.next=15;break}return t.next=13,r;case 13:i.postList=t.sent,e=!1;case 15:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),updateSubscriptions:function(t){var e={name:this.projectName,pictureURL:this.projectProfilePictureURL,numSubs:Number(this.numSubs),projectId:this.projectId},i=o()({subBool:t},e);this.$store.dispatch("user/updateSubscriptions",i),this.isSubscribed=i.subBool},callEditProjectModal:function(){this.$modal.open({parent:this,component:x,props:{name:this.projectName,headerPicture:this.bannerPictureURL,profilePicture:this.projectProfilePictureURL,description:this.projectDescription,projectId:this.projectId},width:900,hasModalCard:!0})},runMobilePostView:function(){this.showMobilePostView=!0}}},k=(i(414),Object(b.a)(C,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"screen background-tint"},[i("Header",{staticClass:"is-hidden-touch"}),t._v(" "),i("div",{staticClass:"container is-fullhd is-hidden-touch"},[i("div",{staticClass:"columns is-marginless  main-margin"},[i("div",{staticClass:"column is-one-quarter is-paddingless side-pane"},[i("NavPane")],1),t._v(" "),i("div",{staticClass:"column is-three-quarters is-paddingless"},[i("Banner",{attrs:{bannerURL:t.bannerPictureURL,bannerTitle:t.projectName,bannerTitlePrefix:"@",isSubscribed:t.isSubscribed,isOwner:t.isOwner},on:{"subscription-button-clicked":t.updateSubscriptions}}),t._v(" "),i("div",{staticClass:"columns is-marginless newsfeed-padding"},[i("div",{staticClass:"column is-half is-paddingless"},[i("DescriptionCard",{attrs:{headerString:"Description",subheaderOn:!1}},[t._v("\n                "+t._s(t.projectDescription)+"\n\n                ")]),t._v(" "),this.$store.state.user.username===this.adminUsername?i("EditButton",{on:{"edit-button-clicked":t.callEditProjectModal}},[i("b",[t._v("Edit Settings")])]):t._e(),t._v(" "),t.showMobilePostView?i("MobilePostView"):t._e()],1),t._v(" "),i("div",{staticClass:"column is-half is-paddingless"},[i("div",{staticClass:"level"},[i("div",{staticClass:"level-item"},[i("ProfileCard",{attrs:{name:t.projectName,username:t.projectName,profilePictureURL:t.projectProfilePictureURL,subheaderString:"View "+t.projectName+"'s stats",stats:t.projectStats,type:"project"}})],1),t._v(" "),i("div",{staticClass:"level-item"},[i("ProfileCard",{attrs:{name:t.adminFirstName+" "+t.adminLastName,username:t.adminUsername,profilePictureURL:t.adminProfilePictureURL,subheaderString:"View "+t.adminFirstName+"'s profile",subheaderURL:"/dev/u/"+this.adminUsername,stats:t.profileStats,type:"user"}})],1)])])]),t._v(" "),i("div",{staticClass:"columns is-marginless newsfeed-padding",attrs:{id:"postFeed"}},[i("div",{staticClass:"column is-two-thirds"},t._l(t.postList,function(e){return t.postList.length?i("Post",{key:e._id,attrs:{post:e}}):t._e()}),1),t._v(" "),i("div",{staticClass:"column is-one-third side-pane"},[i("InfoPane")],1)])],1)])]),t._v(" "),i("MobileHeader",{staticClass:"is-hidden-desktop",attrs:{locationPictureToDisplay:this.projectProfilePictureURL,locationToDisplay:"@"+this.projectName}}),t._v(" "),i("div",{staticClass:"is-marginless is-hidden-desktop mobile-main-margin"},[i("Banner",{attrs:{bannerURL:t.bannerPictureURL,bannerTitle:t.projectName,bannerTitlePrefix:"@",isSubscribed:t.isSubscribed,isOwner:t.isOwner,isMobile:""},on:{"subscription-button-clicked":t.updateSubscriptions}}),t._v(" "),i("DescriptionCard",{staticClass:"newsfeed-margin",attrs:{headerString:"Description",subheaderOn:!1}},[t._v("\n    "+t._s(t.projectDescription)+"\n\n    ")]),t._v(" "),i("div",{staticClass:"columns is-marginless is-paddingless is-mobile is-centered is-centered is-multiline"},[i("div",{staticClass:"column is-narrow"},[i("ProfileCard",{attrs:{name:t.projectName,username:t.projectName,profilePictureURL:t.projectProfilePictureURL,subheaderString:"View "+t.projectName+"'s stats",stats:t.projectStats,type:"project",isMobile:""}})],1),t._v(" "),i("div",{staticClass:"column is-narrow"},[i("ProfileCard",{attrs:{name:t.adminFirstName+" "+t.adminLastName,username:t.adminUsername,profilePictureURL:t.adminProfilePictureURL,subheaderString:"View "+t.adminFirstName+"'s profile",subheaderURL:"/dev/u/"+this.adminUsername,stats:t.profileStats,type:"user",isMobile:""}})],1)]),t._v(" "),i("div",{staticClass:"side-pane"},[this.$store.state.user.username===this.adminUsername?i("EditButton",{on:{"edit-button-clicked":t.callEditProjectModal}},[i("b",[t._v("Edit Settings")])]):t._e()],1),t._v(" "),t._l(t.postList,function(e){return t.postList.length?i("Post",{key:e._id,staticClass:"newsfeed-margin",attrs:{post:e}}):t._e()})],2),t._v(" "),i("MobileFooter",{staticClass:"is-hidden-desktop"})],1)},[],!1,null,"1aa329fb",null));k.options.__file="index.vue";e.default=k.exports}])]);