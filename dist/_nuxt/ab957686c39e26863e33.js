(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{199:function(t,e,o){var a=o(230);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("7e106402",a,!0,{})},200:function(t,e,o){var a=o(232);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("241d3752",a,!0,{})},201:function(t,e,o){var a=o(234);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("886959ae",a,!0,{})},203:function(t,e,o){var a=o(243);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("585e79d6",a,!0,{})},204:function(t,e,o){var a=o(245);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("2bf4dd7c",a,!0,{})},205:function(t,e,o){var a=o(247);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("07ac38f9",a,!0,{})},206:function(t,e,o){var a=o(249);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("4d3ea1ba",a,!0,{})},207:function(t,e,o){var a=o(251);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("1e69d122",a,!0,{})},208:function(t,e,o){var a=o(253);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("808b0686",a,!0,{})},209:function(t,e,o){var a=o(257);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("566415c8",a,!0,{})},210:function(t,e,o){var a=o(259);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("496d92d8",a,!0,{})},211:function(t,e,o){var a=o(261);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("b557fa64",a,!0,{})},212:function(t,e,o){var a=o(263);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("cff6f75a",a,!0,{})},213:function(t,e,o){var a=o(265);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("0a002028",a,!0,{})},214:function(t,e,o){var a=o(267);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("2f488a0b",a,!0,{})},215:function(t,e,o){var a=o(269);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("716fa9e3",a,!0,{})},216:function(t,e,o){var a=o(271);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("5405930c",a,!0,{})},217:function(t,e,o){var a=o(273);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("fbb7eb10",a,!0,{})},220:function(t,e,o){"use strict";var a={name:"ReactionModal",props:{toggleReaction:Function,reactionsFormatted:Array}},i=(o(233),o(26)),n=Object(i.a)(a,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"card"},[o("aside",{staticClass:"menu"},[o("div",{staticClass:"message-header"},[t._v("\n                    Reactions\n                ")]),t._v(" "),t._l(t.reactionsFormatted,function(e,a){return o("ul",{staticClass:"menu-list"},[o("li",{staticClass:"is-size-4",class:{"user-reacted":e.userReacted},on:{click:function(o){return t.toggleReaction(e.emoji,a)}}},[o("a",[t._v(t._s(e.emoji)+" "),o("span",[t._v(t._s(e.count))])])])])})],2)])])},[],!1,null,"22b8f0bc",null);n.options.__file="ReactionModal.vue";e.a=n.exports},221:function(t,e,o){"use strict";o(13);var a=o(1),i=o.n(a),n=(o(14),o(241),{name:"addComment",props:{updateComment:Function,postId:String,commentId:String,resetReply:Function},data:function(){return{comment:""}},methods:{createComment:function(){if(this.comment.length){var t={profileId:this.$store.state.user._id,postId:this.postId,content:this.comment,commentId:this.commentId?this.commentId:""};this.$axios.post("/api/v1/comments",t),this.updateComment(t),this.comment="",this.resetReply("")}else this.$toast.open({duration:4e3,message:"You cannot post a blank comment.",position:"is-top",type:"is-danger"})}}}),s=(o(258),o(26)),r=Object(s.a)(n,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("article",{staticClass:"media"},[o("div",{staticClass:"media-content"},[o("div",{staticClass:"field"},[o("p",{staticClass:"control"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"textarea",attrs:{placeholder:"Add a comment...",rows:"2"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"field"},[o("a",{staticClass:"button action post",on:{click:function(e){return t.createComment()}}},[o("b",[t._v("Post")])])])])])},[],!1,null,"74fde5a0",null);r.options.__file="addComment.vue";var c=r.exports,l=o(237).format,d={name:"Comment",props:{comment:Object,nestLevel:Number,toggle:Function,activeComment:String},components:{AddComment:c},mounted:function(){var t=i()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.$get("/api/v1/profiles/".concat(this.comment.profileId));case 3:return this.profile=t.sent,t.next=6,this.$axios.$get("/api/v1/comments/".concat(this.comment.postId,"/").concat(this.comment._id));case 6:return this.replyList=t.sent,t.next=9,this.$axios.$get("/api/v1/upvotes/".concat(this.comment._id,"/").concat(this.$store.state.user._id));case 9:this.upvote=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("error grabbing some values");case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(){return t.apply(this,arguments)}}(),data:function(){return{profile:{},replyList:[],activeNestedCommentId:"",upvote:{}}},methods:{updateComment:function(t){this.replyList.unshift(t)},toggleReply:function(){this.activeComment===this.comment._id?this.toggle(""):this.toggle(this.comment._id)},toggleUpvote:function(){this.upvote.userUpvoted?this.$axios.delete("/api/v1/upvotes/".concat(this.$store.state.user._id,"/").concat(this.comment._id)):this.$axios.post("/api/v1/upvotes/".concat(this.$store.state.user._id),{commentId:this.comment._id}),this.upvote.userUpvoted=!this.upvote.userUpvoted}},computed:{userUpvoted:function(){return!!this.upvote.userUpvoted},createdAtFormatted:function(){return l(this.comment.createdAt,"en_US")},nextNestLevel:function(){return Number(this.nestLevel+1)}}},u=(o(260),Object(s.a)(d,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("article",{staticClass:"media"},[o("a",{on:{click:function(e){return t.toggleUpvote()}}},[o("font-awesome-icon",{staticClass:"media-left upvote icon",class:{"user-upvoted":!!t.userUpvoted},attrs:{icon:"arrow-up"}})],1),t._v(" "),o("div",{staticClass:"media-content"},[o("div",{staticClass:"content"},[o("p",{attrs:{id:"reply"}},[o("small",[t._v("@"+t._s(t.profile.username)+" · "+t._s(t.createdAtFormatted))]),t._v(" "),o("br"),t._v("\n                    "+t._s(t.comment.content)+"\n                    "),o("br"),t._v(" "),t.nestLevel<2?o("small",{on:{click:function(e){return t.toggleReply()}}},[o("a",[t._v("Reply")])]):t._e()]),t._v(" "),t.activeComment===t.comment._id?o("AddComment",{attrs:{commentId:t.comment._id,updateComment:t.updateComment,resetReply:t.toggle,postId:t.comment.postId}}):t._e()],1),t._v(" "),t._l(t.replyList,function(e){return t.nestLevel<2?o("Comment",{key:e._id,attrs:{activeComment:t.activeComment,comment:e,commentUpvote:e.upvote,"nest-level":t.nextNestLevel,toggle:t.toggle}}):t._e()})],2)])])},[],!1,null,"41405a12",null));u.options.__file="comment.vue";var m=u.exports,p=(o(15),o(16)),f=o.n(p),v=o(220),h=(o(236),(o(235)||"").Picker),g={name:"reactionNoComments",components:{ReactionModal:v.a,Picker:h},props:{postId:String,hideComments:{type:Boolean,default:!1}},data:function(){return{reactionList:[],reactionsFormatted:[]}},methods:{toggleReaction:function(){var t=i()(regeneratorRuntime.mark(function t(e){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o="string"==typeof e?e:e.native,t.next=3,this.reactionsFormatted.map(function(t){return t.emoji}).indexOf(o);case 3:if(a=t.sent,i="object"===f()(e),-1!==a&&!1!==this.reactionsFormatted[a].userReacted){t.next=9;break}return t.abrupt("return",this.toggleReactionTrue(o,a,i));case 9:if(-1===a||!0!==this.reactionsFormatted[a].userReacted){t.next=11;break}return t.abrupt("return",this.toggleReactionFalse(o,a));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),toggleReactionTrue:function(){var t=i()(regeneratorRuntime.mark(function t(e,o,a){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/v1/profiles/".concat(this.$store.state.user._id,"/reactions"),{emoji:e,postId:this.postId});case 2:-1===o?(this.reactionsFormatted.push({emoji:e,count:1,userReacted:!1}),i=this.reactionsFormatted.map(function(t){return t.emoji}).indexOf(e),this.reactionsFormatted[i].userReacted=!0):(this.reactionsFormatted[o].userReacted=!0,this.reactionsFormatted[o].count++),a&&this.$refs.dropdown.toggle();case 4:case"end":return t.stop()}},t,this)}));return function(e,o,a){return t.apply(this,arguments)}}(),toggleReactionFalse:function(){var t=i()(regeneratorRuntime.mark(function t(e,o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.delete("/api/v1/profiles/".concat(this.$store.state.user._id,"/reactions/").concat(this.postId),{data:{emoji:e}});case 2:this.reactionsFormatted[o].count--,this.reactionsFormatted[o].userReacted=!1,0===this.reactionsFormatted[o].count&&this.reactionsFormatted.splice(o,1);case 5:case"end":return t.stop()}},t,this)}));return function(e,o){return t.apply(this,arguments)}}(),cardModal:function(){this.$modal.open({parent:this,component:v.a,props:{reactionsFormatted:this.reactionsFormatted},hasModalCard:!0})},showPost:function(){this.$modal.open({parent:this,component:$,props:{post:this.post},width:900,hasModalCard:!0})}},computed:{reactionCount:function(){var t=0;return this.reactionsFormatted.length>3&&this.reactionsFormatted.slice(3).map(function(e){t=e.count+t}),t},reactionCountMobile:function(){var t=0;return this.reactionsFormatted.map(function(e){t=e.count+t}),t}},mounted:function(){var t=i()(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.$get("/api/v1/reactions/".concat(this.postId));case 3:this.reactionList=t.sent,this.reactionList.length&&this.reactionList.forEach(function(t){var o=t.profileId===e.$store.state.user._id,a=e.reactionsFormatted.map(function(t){return t.emoji}).indexOf(t.emoji);-1===a?(e.reactionsFormatted.push({emoji:t.emoji,count:1,userReacted:!1}),o&&(a=e.reactionsFormatted.map(function(t){return t.emoji}).indexOf(t.emoji),e.reactionsFormatted[a].userReacted=!0)):(e.reactionsFormatted[a].count++,o&&(e.reactionsFormatted[a].userReacted=!0))}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("some kind of error idk");case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},b=(o(262),Object(s.a)(g,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"level is-mobile"},[o("div",{staticClass:"reactions level-left"},[t._l(t.reactionsFormatted.slice(0,3),function(e,a){return o("a",{staticClass:"button is-outlined iterator level-item is-hidden-mobile",class:{"user-reacted":e.userReacted},on:{click:function(o){return t.toggleReaction(e.emoji,a)}}},[o("b",[t._v(t._s(e.emoji)+t._s(e.count))])])}),t._v(" "),t.reactionCount?o("a",{staticClass:"button is-outlined level-item is-hidden-mobile",on:{click:function(e){return t.cardModal()}}},[o("b",[t._v("··· "+t._s(t.reactionCount))])]):t._e(),t._v(" "),t.reactionsFormatted.length?o("a",{staticClass:"button is-outlined iterator level-item is-hidden-tablet",on:{click:function(e){return t.cardModal()}}},[o("b",[t._l(t.reactionsFormatted.slice(0,3),function(e,a){return o("span",{staticClass:"is-marginless is-paddingless"},[t._v(t._s(e.emoji))])}),t._v(t._s(t.reactionCountMobile))],2)]):t._e(),t._v(" "),o("BDropdown",{ref:"dropdown",attrs:{"mobile-modal":""}},[o("a",{staticClass:"button is-outlined level-item",attrs:{slot:"trigger"},slot:"trigger"},[o("font-awesome-icon",{attrs:{icon:"smile"}})],1),t._v(" "),o("BDropdownItem",{attrs:{custom:""}},[o("Picker",{attrs:{set:"apple",showSkinTones:!1,showPreview:!1},on:{select:t.toggleReaction}})],1)],1)],2)])},[],!1,null,"1fcf0fda",null));b.options.__file="ReactionsNoComments.vue";var _=b.exports,x=o(224),w=o(225),C=o(77),k={name:"PostModal",components:{AddComment:c,Comment:m,Reactions:_,PostHeader:x.a,PostTimer:w.a},props:{post:Object,isFromNestedURL:{type:Boolean,default:!1},isFromNewsfeed:{type:Boolean,default:!1},fallbackURL:{type:String,default:""},profile:Object,project:Object,community:Object,isProject:Boolean},data:function(){return{commentList:[],activeCommentId:"",originalPath:""}},created:function(){this.originalPath=this.$route.path,window.history.pushState({},null,"/dev/c/".concat(this.community.name,"/posts/").concat(this.post._id))},beforeDestroy:function(){window.history.pushState({},null,"".concat(this.$route.path))},mounted:function(){var t=i()(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$get("/api/v1/comments/".concat(this.post._id));case 2:this.commentList=t.sent,this.commentList.map(function(){var t=i()(regeneratorRuntime.mark(function t(o,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("/api/v1/upvotes/".concat(o._id,"/").concat(e.$store.state.user._id));case 2:e.commentList[a].upvote=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(e,o){return t.apply(this,arguments)}}()),C.a.isActivePost(this.post)||(this.post.isActive=!1,this.$axios.put("/api/v1/posts/".concat(this.post._id),{isActive:!1}));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{updateComment:function(t){this.commentList.unshift(t)},toggleComment:function(t){this.activeCommentId=t}}},y=(o(268),Object(s.a)(k,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-content"},[o("div",{staticClass:"box is-paddingless"},[o("div",{staticClass:"card"},[o("post-header",{attrs:{isActive:t.post.isActive,createdAt:this.post.createdAt,profile:this.profile,project:this.project,community:this.community,isProject:this.isProject}}),t._v(" "),t.post.isActive?o("PostTimer",{attrs:{time:t.post.expiration}}):t._e(),t._v(" "),o("div",{staticClass:"content is-marginless",domProps:{innerHTML:t._s(t.post.content)}}),t._v(" "),o("br"),t._v(" "),o("Reactions",{attrs:{postId:this.post._id}})],1),t._v(" "),t.activeCommentId?t._e():o("AddComment",{attrs:{postId:t.post._id,updateComment:t.updateComment}}),t._v(" "),t._l(t.commentList,function(e){return o("Comment",{key:e._id,attrs:{activeComment:t.activeCommentId,comment:e,"nest-level":0,toggle:t.toggleComment}})})],2)])},[],!1,null,"07d8f31d",null));y.options.__file="PostModal.vue";var $=e.a=y.exports},224:function(t,e,o){"use strict";o(14),o(13);var a=o(1),i=o.n(a),n=o(237),s=n.format,r=(n.render,n.cancel,n.register,{name:"postHeader",props:{isActive:Boolean,createdAt:String,profile:{},project:{},community:{},isProject:Boolean},data:function(){return{}},mounted:function(){var t=i()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{createdAtFormatted:function(){return s(this.createdAt,"en_US")},getProfileRoute:function(){return"/dev/u/".concat(this.profile.username)},getProjectRoute:function(){return"/dev/p/".concat(this.project.name)},getCommunityRoute:function(){return"/dev/c/".concat(this.community.name)}}}),c=(o(264),o(26)),l=Object(c.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card-header"},[o("figure",{staticClass:"media-left"},[t.isProject?t._e():o("nuxt-link",{attrs:{to:t.getProfileRoute}},[o("p",{staticClass:"image is-64x64 profilePic"},[o("img",{attrs:{src:t.profile.profilePicture}})])]),t._v(" "),t.isProject?o("nuxt-link",{attrs:{to:t.getProjectRoute}},[o("p",{staticClass:"image is-64x64 profilePic"},[o("img",{attrs:{src:t.project.profilePicture}})])]):t._e()],1),t._v(" "),o("div",{staticClass:"card-content is-paddingless"},[t.isProject?o("nuxt-link",{staticClass:"no-decor",attrs:{to:t.getProjectRoute}},[o("p",[o("strong",[t._v(t._s(t.project.name))]),t._v(" "),o("small",{staticClass:"grey"},[o("span",{staticClass:"grey underline",attrs:{to:t.getProjectRoute}},[o("b",[t._v("@"+t._s(t.project.name))])]),t._v("\n\n            · "+t._s(t.createdAtFormatted)+"\n\n            ")])])]):t._e(),t._v(" "),t.isProject?t._e():o("nuxt-link",{staticClass:"no-decor",attrs:{to:t.getProfileRoute}},[o("p",[o("strong",[t._v(t._s(t.profile.firstName)+" "+t._s(t.profile.lastName))]),t._v(" "),o("small",{staticClass:"grey"},[o("span",{staticClass:"grey underline",attrs:{to:t.getProfileRoute}},[o("b",[t._v("@"+t._s(t.profile.username))])]),t._v("\n\n            · "+t._s(t.createdAtFormatted)+"\n                "),t.isActive?o("span",[t._v("\n                    ·\n                    "),o("span",{staticClass:"liveBox"},[t._v("\n                        LIVE\n                    ")])]):t._e()])])]),t._v(" "),o("p",{staticClass:"communityOfPost"},[t._v("\n              Posted in\n              "),o("nuxt-link",{staticClass:"community underline",attrs:{to:t.getCommunityRoute}},[o("b",[t._v("#"+t._s(t.community.name))])])],1)],1),t._v(" "),o("div",{staticClass:"media-right"},[o("font-awesome-icon",{attrs:{icon:"angle-down"}})],1)])},[],!1,null,"1277f0fc",null);l.options.__file="postHeader.vue";e.a=l.exports},225:function(t,e,o){"use strict";var a={name:"postTimer",props:{time:String},data:function(){return{countdown:""}},methods:{countdownTimer:function(t){var e=this,o=setInterval(function(){var a=(new Date).getTime(),i=t-a,n=Math.floor(i%864e5/36e5),s=Math.floor(i%36e5/6e4),r=Math.floor(i%6e4/1e3);n=n<10?"0"+n:n,s=s<10?"0"+s:s,r=r<10?"0"+r:r,e.countdown="".concat(n,":").concat(s,":").concat(r),"00:00:00"===e.countdown&&clearInterval(o)},1e3)}},mounted:function(){this.countdownTimer(new Date(this.time).getTime())}},i=(o(266),o(26)),n=Object(i.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level"},[e("div",{staticClass:"level-item"},[e("span",{staticClass:"liveBox"},[this._v(this._s(this.countdown))])])])},[],!1,null,"540312aa",null);n.options.__file="postTimer.vue";e.a=n.exports},227:function(t,e,o){"use strict";o(27);var a=o(28),i=o.n(a),n=(o(44),o(13),o(1)),s=o.n(n),r=o(254),c=o(286),l=o(55),d={name:"dropdown"},u=(o(229),o(26)),m=Object(u.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"dropdown-trigger"},[e("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"}},[this._m(0),this._v(" "),e("span",{staticClass:"icon is-medium"},[e("font-awesome-icon",{attrs:{icon:"angle-down"}})],1)])]),this._v(" "),this._m(1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("b",[this._v("@Kowalla")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[o("div",{staticClass:"dropdown-content"},[o("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("\n                Dropdown item\n            ")]),t._v(" "),o("a",{staticClass:"dropdown-item"},[t._v("\n                Other dropdown item\n            ")]),t._v(" "),o("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("\n                Active dropdown item\n            ")]),t._v(" "),o("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("\n                Other dropdown item\n            ")]),t._v(" "),o("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("\n                With a divider\n            ")])])])}],!1,null,"baf125f6",null);m.options.__file="dropdownItems.vue";var p={name:"createPostModal",components:{Dropdown:m.exports,Editor:r.a,EditorContent:r.b,EditorMenuBar:r.c},data:function(){return{userDropdown:!1,commDropdown:!1,createDialog:!1,editor:null,file:"",s3Loading:!1,clearPhoto:!1,photoUrl:"",timedPost:!1,time:new Date(2018,11,24,0,0),isActive:null,userCompleted:null,unselectableTimes:[]}},beforeDestroy:function(){var t=s()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==this.clearPhoto){t.next=6;break}return t.next=3,this.photoUrl.split("post-pics/")[1];case 3:return e=t.sent,t.next=6,this.$axios.post("/api/v1/posts/imageDelete",{bucket:"kowalla-dev/user/post-pics",fileName:e});case 6:return t.next=8,this.editor.destroy();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:i()({},Object(l.b)("user",["activePost"]),{minutes:function(){return this.time?this.time.getMinutes():0},hours:function(){return this.time?this.time.getHours():0},expiration:function(){var t=new Date,e=t.setHours(t.getHours()+this.hours,t.getMinutes()+this.minutes);return new Date(e)}}),methods:{toggleTimedPost:function(){this.timedPost=!this.timedPost,this.isActive=!0,this.timedPost||(this.time=null,this.isActive=!1)},createPost:function(){var t=s()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.s3Loading=!0,0!==this.html.replace(/(<([^>]+)>)/gi,"").length){t.next=6;break}return this.$toast.open({duration:5e3,message:"You must input some text to make a post",position:"is-top",type:"is-danger"}),this.s3Loading=!1,t.abrupt("return",null);case 6:return t.next=8,this.$axios.get("/api/v1/communities/5c3292a2f03d751a7ffb80ab");case 8:return e=t.sent,t.next=11,this.$axios.post("/api/v1/communities/1234567890/posts",{profileId:this.$store.state.user._id,communityId:e._id,content:this.html,duration:this.time,expiration:this.expiration||null,isActive:this.isActive,userCompleted:this.userCompleted});case 11:this.clearPhoto=!1,this.s3Loading=!1,this.$parent.close(),this.timedPost&&(this.$router.push({path:"/dev/focus"}),"/dev/focus"===this.$router.history.current.fullPath&&this.$router.go());case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),selectFile:function(){var t=s()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.file.files[0];case 2:this.file=t.sent,this.sendFile(e);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sendFile:function(){var t=s()(regeneratorRuntime.mark(function t(e){var o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearPhoto=!0,(o=new FormData).append("file",this.file),t.prev=3,t.next=6,this.$axios.post("/api/v1/posts/imageUpload",o);case 6:a=t.sent,this.photoUrl=a.data.file,e({src:a.data.file}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0),this.$toast.open({duration:5e3,message:"There was an error with your file. Please confirm it's less than 10MB and a png, jpeg, or gif.",position:"is-top",type:"is-danger"});case 15:case"end":return t.stop()}},t,this,[[3,11]])}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){var t=this;this.editor=new r.a({autoFocus:!0,extensions:[new c.a,new c.c,new c.e,new c.f,new c.g({levels:[1,2,3]}),new c.i,new c.j,new c.m,new c.n,new c.p,new c.q,new c.b,new c.d,new c.k,new c.l,new c.o,new c.r,new c.h],content:"<p></p><p></p><p></p><p></p>",onUpdate:function(e){var o=e.getHTML;t.html=o()}})}},f=(o(231),Object(u.a)(p,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-content"},[o("div",{staticClass:"box"},[o("article",{staticClass:"media"},[o("div",{staticClass:"media-left"},[o("figure",{staticClass:"image is-64x64"},[o("img",{attrs:{src:this.$store.state.user.profilePicture}})])]),t._v(" "),o("div",{staticClass:"media-content"},[o("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,i=e.isActive;return o("div",{staticClass:"field has-addons"},[o("a",{staticClass:"button is-white",class:{"is-active":i.bold()},on:{click:a.bold}},[o("font-awesome-icon",{attrs:{icon:"bold"}})],1),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.italic()},on:{click:a.italic}},[o("font-awesome-icon",{attrs:{icon:"italic"}})],1),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.strike()},on:{click:a.strike}},[o("font-awesome-icon",{attrs:{icon:"strikethrough"}})],1),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.underline()},on:{click:a.underline}},[o("font-awesome-icon",{attrs:{icon:"underline"}})],1),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.code()},on:{click:a.code}},[o("font-awesome-icon",{attrs:{icon:"code"}})],1),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.heading({level:1})},on:{click:function(t){return a.heading({level:1})}}},[t._v("\n                                H1\n                            ")]),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.heading({level:2})},on:{click:function(t){return a.heading({level:2})}}},[t._v("\n                                H2\n                            ")]),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.heading({level:3})},on:{click:function(t){return a.heading({level:3})}}},[t._v("\n                                H3\n                            ")]),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.todo_list()},on:{click:a.todo_list}},[o("font-awesome-icon",{attrs:{icon:"tasks"}})],1),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.bullet_list()},on:{click:a.bullet_list}},[o("font-awesome-icon",{attrs:{icon:"list-ul"}})],1),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.ordered_list()},on:{click:a.ordered_list}},[o("font-awesome-icon",{attrs:{icon:"list-ol"}})],1),t._v(" "),o("a",{staticClass:"button is-white",class:{"is-active":i.blockquote()},on:{click:a.blockquote}},[o("font-awesome-icon",{attrs:{icon:"quote-right"}})],1),t._v(" "),o("a",{staticClass:"button is-white",on:{click:a.horizontal_rule}},[o("font-awesome-icon",{attrs:{icon:"minus"}})],1),t._v(" "),o("a",{staticClass:"button is-white"},[o("input",{ref:"file",staticClass:"file-input",attrs:{type:"file"},on:{change:function(e){return t.selectFile(a.image)}}}),t._v(" "),o("font-awesome-icon",{attrs:{icon:"camera"}})],1),t._v(" "),t.activePost.isActive?t._e():o("a",{staticClass:"button is-white",on:{click:t.toggleTimedPost}},[o("font-awesome-icon",{attrs:{icon:"clock"}}),t._v("   Timed Post\n                            ")],1)])}}])}),t._v(" "),t.timedPost?o("div",{staticClass:"block"},[t._m(0),t._v(" "),o("b-timepicker",{attrs:{inline:"","max-time":new Date(2018,11,24,10)},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1):t._e(),t._v(" "),o("div",{staticClass:"editor content"},[o("editor-content",{staticClass:"editor__content",attrs:{editor:t.editor}})],1),t._v(" "),o("div",{staticClass:"level is-paddingless"},[o("a",{staticClass:"level-item button action post",class:{"is-loading":t.s3Loading},on:{click:function(e){return t.createPost()}}},[o("b",[t._v("Post")])]),t._v(" "),o("div",{staticClass:"level-right"},[o("span",{staticClass:"level-item has-text-grey"},[t._v("as")]),t._v(" "),o("div",{staticClass:"level-item dropdown",class:{"is-active":t.userDropdown},on:{click:function(e){t.userDropdown=!t.userDropdown}}},[o("dropdown")],1),t._v(" "),o("span",{staticClass:"level-item has-text-grey"},[t._v("in")]),t._v(" "),o("div",{staticClass:"level-item dropdown",class:{"is-active":t.commDropdown},on:{click:function(e){t.commDropdown=!t.commDropdown}}},[o("dropdown")],1)])])],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("Select a timespan for your timed post:")])])}],!1,null,"31b572b2",null));f.options.__file="CreatePostModal.vue";e.a=f.exports},229:function(t,e,o){"use strict";var a=o(199);o.n(a).a},230:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,"",""])},231:function(t,e,o){"use strict";var a=o(200);o.n(a).a},232:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".section[data-v-31b572b2]{padding-bottom:0}span[data-v-31b572b2]{color:#39c9a0}.box[data-v-31b572b2]{width:800px;max-width:100%}.modal-content[data-v-31b572b2]{border-radius:6px;margin:0;color:#39c9a0;width:auto;overflow:visible}.level[data-v-31b572b2]{padding:1rem}.modal-card-body[data-v-31b572b2]{overflow:visible}.field[data-v-31b572b2]{margin:1em 0;display:flex;flex-wrap:wrap}.button.action[data-v-31b572b2]{width:12em;color:#fff;background-color:#39c9a0;border-color:#39c9a0}.post[data-v-31b572b2]{margin-right:.75em}.is-white[data-v-31b572b2]:hover{background-color:#e9ebee}.dropdown-content[data-v-31b572b2]{overflow:visible}div.animation-content[data-v-31b572b2]{margin:0}.block[data-v-31b572b2]{color:#39c9a0}.editor__content[data-v-31b572b2]{max-height:50vh;overflow-y:scroll;word-break:break-word}",""])},233:function(t,e,o){"use strict";var a=o(201);o.n(a).a},234:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".card[data-v-22b8f0bc]{border-radius:6px;min-width:350px}.message-header[data-v-22b8f0bc]{background:#39c9a0}.user-reacted[data-v-22b8f0bc]{background-color:rgba(57,201,160,.3)}.menu-list li a[data-v-22b8f0bc]{display:flex;justify-content:space-between;color:#39c9a0}",""])},242:function(t,e,o){"use strict";var a=o(203);o.n(a).a},243:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".box[data-v-0a1fcaa5]{display:flex;flex-direction:column;justify-content:center}.general-navigation[data-v-0a1fcaa5]{margin-bottom:10px;text-decoration:none;color:#000}.modal-content[data-v-0a1fcaa5]{border-radius:6px;margin:0;color:#39c9a0;width:auto}.header-content[data-v-0a1fcaa5]{font-family:Helvetica Neue;font-size:1em;color:#000}",""])},244:function(t,e,o){"use strict";var a=o(204);o.n(a).a},245:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".box[data-v-56148ec7]{margin:25px;max-width:100%;text-align:center}.modal-content[data-v-56148ec7]{border-radius:6px;margin:0;color:#39c9a0;width:auto}",""])},246:function(t,e,o){"use strict";var a=o(205);o.n(a).a},247:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".columns[data-v-f5c657b0]{background:#fff}.align-icon[data-v-f5c657b0]{display:flex;justify-content:center;align-items:center}.theme-color[data-v-f5c657b0]{color:#39c9a0}.bottom-border[data-v-f5c657b0]{border-bottom:3px solid #39c9a0}.normal-border[data-v-f5c657b0]{border-bottom:3px solid #e0dddd}.padding[data-v-f5c657b0]{padding:5px}",""])},248:function(t,e,o){"use strict";var a=o(206);o.n(a).a},249:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".box[data-v-cc3a1e48]{max-width:100%;height:300px;width:400px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.modal-content[data-v-cc3a1e48]{border-radius:6px;margin:0;color:#39c9a0;width:auto}",""])},250:function(t,e,o){"use strict";var a=o(207);o.n(a).a},251:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".size[data-v-666f0200]{position:fixed;top:0;left:0;z-index:5;height:50px;width:100%}.theme-color-dark[data-v-666f0200]{color:#2f8168}.mobile-header-container[data-v-666f0200]{height:100px;-webkit-transform:translateZ(0);transform:translateZ(0);transition:all .3s ease-out}.hide-mobile-header-container[data-v-666f0200]{box-shadow:none;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}.mobile-header-top-container[data-v-666f0200]{padding:0 10px;background-color:#39c9a0}.mobile-header-bottom-container[data-v-666f0200]{background-color:#fff;border:1px solid #e0dddd;padding:0 10px}.on-bottom[data-v-666f0200]{position:relative;bottom:0;right:0}.selector[data-v-666f0200]{border:1px solid #000;border-radius:6px;padding:5px;height:40px}.margin-adjust[data-v-666f0200]{margin:0 0 0 -4px}.center[data-v-666f0200]{display:flex;justify-content:center;align-items:center}.half-height[data-v-666f0200]{height:50px}.mobile-nav-profile-picture[data-v-666f0200]{height:40px;width:40px;border:1px solid #e0dddd;border-radius:6px}.mobile-nav-link-picture[data-v-666f0200]{height:30px;width:30px;border:1px solid #e0dddd;border-radius:6px}.kowalla-logo-picture[data-v-666f0200]{height:25px;width:25px;margin-right:5px}.kowalla-logo[data-v-666f0200]{font-family:Nunito;font-size:1.75em;color:#fff;text-decoration:none}",""])},252:function(t,e,o){"use strict";var a=o(208);o.n(a).a},253:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".box[data-v-9641e3fc]{margin:25px;max-width:100%}.modal-content[data-v-9641e3fc]{align-self:center;border-radius:6px;margin:0;color:#39c9a0;width:auto}.dark-basic-theme[data-v-9641e3fc]{color:#39c9a0}",""])},256:function(t,e,o){"use strict";var a=o(209);o.n(a).a},257:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".size[data-v-56cc9fa4]{position:fixed;bottom:0;left:0;z-index:5;width:100%}.dark-basic-theme[data-v-56cc9fa4]{color:#fff}.create-button[data-v-56cc9fa4]{background-color:#fff;border:2px solid #2f8168;border-radius:35px;height:70px;width:70px;box-shadow:0 0 10px #333}.create-button[data-v-56cc9fa4],.create-button-2[data-v-56cc9fa4]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:0;right:0;margin:0 10px 10px 0}.create-button-2[data-v-56cc9fa4]{background-color:#39c9a0;border-radius:35px;height:65px;width:65px;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.kowalla-logo[data-v-56cc9fa4]{margin-left:20px;font-family:Nunito;font-size:2em;color:#fff;text-decoration:none;margin-right:10px}",""])},258:function(t,e,o){"use strict";var a=o(210);o.n(a).a},259:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".media[data-v-74fde5a0]{padding:1em .5em .5em}.button.action[data-v-74fde5a0]{width:12em;color:#fff;background-color:#39c9a0;border-color:#39c9a0}",""])},260:function(t,e,o){"use strict";var a=o(211);o.n(a).a},261:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".upvote[data-v-41405a12]{margin:.35em .5em 0;color:#000}p small[data-v-41405a12]{color:#999}small a[data-v-41405a12]{font-weight:700}.upvote.user-upvoted[data-v-41405a12],small a[data-v-41405a12]{color:#39c9a0}#reply[data-v-41405a12]{padding-bottom:1em}",""])},262:function(t,e,o){"use strict";var a=o(212);o.n(a).a},263:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".level[data-v-1fcf0fda]{padding-left:.5em;padding-bottom:.5em;display:flex;flex-wrap:wrap}.button[data-v-1fcf0fda]{border-width:medium;width:3em;height:2em;font-size:1.2em}.button[data-v-1fcf0fda],.button[data-v-1fcf0fda]:hover{color:#39c9a0;border-color:#39c9a0}.button[data-v-1fcf0fda]:hover{background-color:rgba(57,201,160,.3)}.comments[data-v-1fcf0fda]{color:#39c9a0;margin-left:.5em}.is-active.is-mobile-modal div.dropdown-item[data-v-1fcf0fda],div.dropdown-item[data-v-1fcf0fda]{padding:0}.is-hidden-tablet[data-v-1fcf0fda]{width:6em}.user-reacted[data-v-1fcf0fda],.user-reacted[data-v-1fcf0fda]:hover{background:#39c9a0;color:#fff}",""])},264:function(t,e,o){"use strict";var a=o(213);o.n(a).a},265:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".media-left[data-v-1277f0fc]{margin-right:.5em}.media-right[data-v-1277f0fc]{margin-left:auto}.card-header[data-v-1277f0fc]{padding:10px;box-shadow:none}.profilePic img[data-v-1277f0fc]{border-radius:.75em}span[data-v-1277f0fc]{color:#39c9a0}.grey[data-v-1277f0fc]{color:#999}.community[data-v-1277f0fc]{color:#39c9a0}.no-decor[data-v-1277f0fc]{text-decoration:none;color:#000}.underline[data-v-1277f0fc]:hover{color:#39c9a0;text-decoration:underline}.liveBox[data-v-1277f0fc]{border-radius:3px;padding:.125em .25em;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:red;color:#fff}",""])},266:function(t,e,o){"use strict";var a=o(214);o.n(a).a},267:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".liveBox[data-v-540312aa]{border-radius:6px;padding:.25em .5em;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:red;color:#fff;font-size:1.5em}",""])},268:function(t,e,o){"use strict";var a=o(215);o.n(a).a},269:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,"div.card[data-v-07d8f31d]{border-radius:6px 6px 0 0;padding:0 5em}@media only screen and (max-width:600px){div.card[data-v-07d8f31d]{padding:0}}.box[data-v-07d8f31d]{width:55em;max-width:100%}.modal-content[data-v-07d8f31d]{border-radius:6px;margin:0;color:#39c9a0;width:auto;height:auto;overflow:visible}.content[data-v-07d8f31d]{max-height:60vh;overflow-y:scroll;word-break:break-word}",""])},270:function(t,e,o){"use strict";var a=o(216);o.n(a).a},271:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".level[data-v-4da01963]{padding-left:.5em;padding-bottom:.5em;display:flex;flex-wrap:wrap}.button[data-v-4da01963]{border-width:medium;width:3em;height:2em;font-size:1.2em}.button[data-v-4da01963],.button[data-v-4da01963]:hover{color:#39c9a0;border-color:#39c9a0}.button[data-v-4da01963]:hover{background-color:rgba(57,201,160,.3)}.comments[data-v-4da01963]{color:#39c9a0;margin-left:.5em;cursor:pointer}.is-active.is-mobile-modal div.dropdown-item[data-v-4da01963],div.dropdown-item[data-v-4da01963]{padding:0}.is-hidden-tablet[data-v-4da01963]{width:6em}.user-reacted[data-v-4da01963],.user-reacted[data-v-4da01963]:hover{background:#39c9a0;color:#fff}.visible[data-v-4da01963]{display:none}",""])},272:function(t,e,o){"use strict";var a=o(217);o.n(a).a},273:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,"#content-box[data-v-5a9bee38]{padding:1em .5em;max-height:30em;overflow:hidden}#content-box.fullHeight[data-v-5a9bee38]{max-height:none}#content-box .read-more[data-v-5a9bee38]{position:absolute;bottom:4em;left:0;width:100%;text-align:center;margin:0;padding:30px 0 0;background-image:linear-gradient(180deg,transparent,#fff,#fff)}b-icon[data-v-5a9bee38]{color:#000}.media-content[data-v-5a9bee38]{padding:0 2em}.card[data-v-5a9bee38]{border-radius:6px;margin-bottom:1em}.content[data-v-5a9bee38]{word-break:break-word}",""])},281:function(t,e,o){"use strict";var a=o(238),i={name:"ChangeLocationModal",components:{NavCard:o(287).a,NavPane:a.a},methods:{closeModal:function(){this.$parent.close()}}},n=(o(242),o(26)),s=Object(n.a)(i,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-content"},[o("div",{staticClass:"box is-narrow"},[o("div",{staticClass:"center mobile-nav-link-picture"},[o("nuxt-link",{attrs:{to:"/dev"},nativeOn:{click:function(e){return t.closeModal()}}},[o("div",{staticClass:"general-navigation"},[o("font-awesome-icon",{attrs:{icon:"home"}}),t._v(" "),o("span",[o("b",[t._v("Home")])])],1)])],1),t._v(" "),t._m(0),t._v(" "),o("NavCard",{attrs:{type:"user",selector:"owned"},on:{"nav-card-link-clicked":function(e){return t.closeModal()}}}),t._v(" "),t._m(1),t._v(" "),o("NavCard",{attrs:{type:"user",selector:"subscriptions"},on:{"nav-card-link-clicked":function(e){return t.closeModal()}}})],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"header-content"},[e("b",[this._v("Your Projects and Communities")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"header-content"},[e("b",[this._v("Your Subscriptions")])])}],!1,null,"0a1fcaa5",null);s.options.__file="ChangeLocationModal.vue";var r=s.exports,c=(o(14),{name:"TestModal",props:{modalText:String},methods:{closeModal:function(){console.log("closeModal"),this.$parent.close()}},directives:{"clicked-outside":{bind:function(t,e,o){if("function"!=typeof e.value){var a=o.context.name,i="[Vue-click-outside:] provided expression '".concat(e.expression,"' is not a function, but has to be");a&&(i+="Found in component '".concat(a,"'")),console.warn(i)}var n=e.modifiers.bubble,s=function(o){(n||!t.contains(o.target)&&t!==o.target)&&e.value(o)};t.__vueClickOutside__=s,document.addEventListener("click",s)},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),t.__vueClickOutside__=null}}}}),l=(o(244),Object(n.a)(c,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"clicked-outside",rawName:"v-clicked-outside",value:this.closeModal,expression:"closeModal"}],staticClass:"modal-content"},[e("div",{staticClass:"box"},[this._v("\n    "+this._s(this.modalText)+"\n  ")])])},[],!1,null,"56148ec7",null));l.options.__file="TestModal.vue";var d=l.exports,u={name:"MobileNavIcon",components:{TestModal:d},data:function(){return{isPosts:!0,isSearch:!1,isNotif:!1,isMenu:!1,activeModal:null}},methods:{togglePosts:function(){var t=[!0,!1,!1,!1];this.isPosts=t[0],this.isSearch=t[1],this.isNotif=t[2],this.isMenu=t[3]},toggleSearch:function(){var t=[!1,!0,!1,!1];this.isPosts=t[0],this.isSearch=t[1],this.isNotif=t[2],this.isMenu=t[3],this.$modal.open({parent:this,component:d,props:{modalText:"Search",modalOpen:this.isSearch},width:300,hasModalCard:!0})},toggleNotif:function(){var t=[!1,!1,!0,!1];this.isPosts=t[0],this.isSearch=t[1],this.isNotif=t[2],this.isMenu=t[3],this.$modal.open({parent:this,component:d,props:{modalText:"Notif",modalOpen:this.isNotif},width:300,hasModalCard:!0})},toggleMenu:function(){var t=[!1,!1,!1,!0];this.isPosts=t[0],this.isSearch=t[1],this.isNotif=t[2],this.isMenu=t[3],this.$modal.open({parent:this,component:d,props:{modalText:"Menu Options",modalOpen:this.isMenu},width:300,hasModalCard:!0})}}},m=(o(246),Object(n.a)(u,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"columns is-mobile is-marginless"},[o("div",{staticClass:"column align-icon is-paddingless is-one-third",class:{"bottom-border":t.isPosts,"normal-border":!t.isPosts},on:{click:t.togglePosts}},[o("div",{staticClass:"align-icon"},[o("b-icon",{staticClass:"padding",class:{"theme-color":t.isPosts},attrs:{icon:"view-quilt"}}),t._v(" "),o("span",{staticClass:"padding",class:{"theme-color":t.isPosts}},[o("b",[t._v("Posts")])])],1)]),t._v(" "),o("div",{staticClass:"column align-icon is-paddingless",class:{"bottom-border":t.isSearch,"normal-border":!t.isSearch},on:{click:t.toggleSearch}},[o("b-icon",{staticClass:"dark-basic-theme",class:{"theme-color":t.isSearch},attrs:{icon:"magnify"}})],1),t._v(" "),o("div",{staticClass:"column align-icon is-paddingless",class:{"bottom-border":t.isNotif,"normal-border":!t.isNotif},on:{click:t.toggleNotif}},[o("b-icon",{staticClass:"dark-basic-theme",class:{"theme-color":t.isNotif},attrs:{icon:"bell-outline"}})],1),t._v(" "),o("div",{staticClass:"column align-icon is-paddingless",class:{"bottom-border":t.isMenu,"normal-border":!t.isMenu},on:{click:t.toggleMenu}},[o("b-icon",{staticClass:"dark-basic-theme",class:{"theme-color":t.isMenu},attrs:{icon:"dots-horizontal"}})],1)])},[],!1,null,"f5c657b0",null));m.options.__file="MobileNavIcons.vue";var p=m.exports,f=o(295),v={name:"SearchModal",components:{Searchbar:o(296).a},props:{modalText:String},methods:{closeModal:function(){this.$parent.close()}}},h=(o(248),Object(n.a)(v,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-content"},[e("div",{staticClass:"box"},[e("b",[this._v("Find something great")]),this._v(" "),e("Searchbar",{on:{"option-selected":this.closeModal}})],1)])},[],!1,null,"cc3a1e48",null));h.options.__file="SearchModal.vue";var g=h.exports,b={name:"MobileHeader",components:{ChangeLocationModal:r,MobileNavIcons:p,SortingOptions:f.a},data:function(){return{showNavbar:!0,lastScrollPosition:0,scrollValue:0}},props:{locationToDisplay:String,locationPictureToDisplay:{type:String,default:""},isHome:{type:Boolean,default:!1}},methods:{callChangeLocationModal:function(){this.$modal.open({parent:this,component:r,width:300,hasModalCard:!0})},callSearchModal:function(){this.$modal.open({parent:this,component:g,props:{modalText:"Search"},width:300,hasModalCard:!0})},callNotifModal:function(){this.$modal.open({parent:this,component:d,props:{modalText:"Notif"},width:300,hasModalCard:!0})},onScroll:function(){window.pageYOffset<0||Math.abs(window.pageYOffset-this.lastScrollPosition)<50||(this.showNavbar=window.pageYOffset<this.lastScrollPosition,this.lastScrollPosition=window.pageYOffset)}},mounted:function(){this.lastScrollPosition=window.pageYOffset,window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},_=(o(250),Object(n.a)(b,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"size"},[o("div",{staticClass:"mobile-header-container is-touch",class:{"hide-mobile-header-container":!t.showNavbar}},[o("div",{staticClass:"level half-height is-mobile mobile-header-top-container is-marginless"},[o("nuxt-link",{attrs:{to:"/dev/"}},[o("div",{staticClass:"level-left kowalla-logo"},[o("img",{staticClass:"kowalla-logo-picture",attrs:{src:"https://i.imgur.com/04hoRgV.png"}}),t._v("\n          kowalla\n\n        ")])]),t._v(" "),o("div",{staticClass:"level-right"},[o("div",{staticClass:"level-item align-icon",on:{click:t.callSearchModal}},[o("b-icon",{staticClass:"theme-color-dark",attrs:{icon:"magnify"}})],1),t._v(" "),o("div",{staticClass:"level-item align-icon",on:{click:t.callNotifModal}},[o("b-icon",{staticClass:"theme-color-dark",attrs:{icon:"bell-outline"}})],1),t._v(" "),o("div",{staticClass:"level-item"},[o("nuxt-link",{attrs:{to:"/dev/u/"+this.$store.state.user.username}},[o("img",{staticClass:"mobile-nav-profile-picture",attrs:{src:this.$store.state.user.profilePicture}})])],1)])],1),t._v(" "),o("div",{staticClass:"level mobile-header-bottom-container half-height is-mobile"},[o("div",{staticClass:"level-left selector",on:{click:t.callChangeLocationModal}},[o("div",{staticClass:"level-item"},[t.isHome?o("div",{staticClass:"center mobile-nav-link-picture"},[o("font-awesome-icon",{attrs:{icon:"home"}})],1):o("img",{staticClass:"mobile-nav-link-picture",attrs:{src:t.locationPictureToDisplay}})]),t._v(" "),o("div",{staticClass:"level-item margin-adjust"},[o("b",[t._v(t._s(t.locationToDisplay))])]),t._v(" "),o("div",{staticClass:"level-item margin-adjust"},[o("font-awesome-icon",{attrs:{icon:"angle-down"}})],1)]),t._v(" "),o("div",{staticClass:"level-right"},[o("SortingOptions",{attrs:{isMobile:""}})],1)])])])},[],!1,null,"666f0200",null));_.options.__file="MobileHeader.vue";e.a=_.exports},282:function(t,e,o){"use strict";var a={name:"MobileCreateModal",methods:{emitSelection:function(t){this.$emit(t),this.$parent.close()}}},i=(o(252),o(26)),n=Object(i.a)(a,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-content"},[o("div",{staticClass:"box"},[o("div",{staticClass:"level",on:{click:function(e){return t.emitSelection("post")}}},[o("b-icon",{staticClass:"dark-basic-theme",attrs:{icon:"square-edit-outline",size:"is-small"}}),t._v("\n\n        Create a new Post\n    ")],1),t._v(" "),o("div",{staticClass:"level",on:{click:function(e){return t.emitSelection("community")}}},[o("b-icon",{staticClass:"dark-basic-theme",attrs:{icon:"account-group",size:"is-small"}}),t._v("\n\n        Create a new Community\n    ")],1),t._v(" "),o("div",{staticClass:"level",on:{click:function(e){return t.emitSelection("project")}}},[o("b-icon",{staticClass:"dark-basic-theme",attrs:{icon:"developer-board",size:"is-small"}}),t._v("\n\n        Create a new Project\n    ")],1)])])},[],!1,null,"9641e3fc",null);n.options.__file="MobileCreateModal.vue";var s=n.exports,r=o(227),c={name:"MobileFooter",components:{MobileCreateModal:s},data:function(){return{}},methods:{callMobileCreateModal:function(){var t=this;this.$modal.open({parent:this,component:s,width:400,hasModalCard:!0,canCancel:!0,events:{post:function(){t.callCreatePostModal()},community:function(){},project:function(){}}})},callCreatePostModal:function(){this.$modal.open({parent:this,component:r.a,width:400,hasModalCard:!0,canCancel:!0})}}},l=(o(256),Object(i.a)(c,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"size"},[e("div",{staticClass:"create-button-2",on:{click:this.callMobileCreateModal}},[e("b-icon",{staticClass:"dark-basic-theme",attrs:{icon:"plus",size:"is-medium"}})],1)])},[],!1,null,"56cc9fa4",null));l.options.__file="MobileFooter.vue";e.a=l.exports},283:function(t,e,o){"use strict";o(13);var a=o(1),i=o.n(a),n=(o(15),o(16)),s=o.n(n),r=o(220),c=(o(236),o(221)),l=(o(235)||"").Picker,d={name:"Reactions",components:{ReactionModal:r.a,Picker:l},props:{postId:String},data:function(){return{reactionList:[],reactionsFormatted:[]}},methods:{toggleReaction:function(){var t=i()(regeneratorRuntime.mark(function t(e){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o="string"==typeof e?e:e.native,t.next=3,this.reactionsFormatted.map(function(t){return t.emoji}).indexOf(o);case 3:if(a=t.sent,i="object"===s()(e),-1!==a&&!1!==this.reactionsFormatted[a].userReacted){t.next=9;break}return t.abrupt("return",this.toggleReactionTrue(o,a,i));case 9:if(-1===a||!0!==this.reactionsFormatted[a].userReacted){t.next=11;break}return t.abrupt("return",this.toggleReactionFalse(o,a));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),toggleReactionTrue:function(){var t=i()(regeneratorRuntime.mark(function t(e,o,a){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/v1/profiles/".concat(this.$store.state.user._id,"/reactions"),{emoji:e,postId:this.postId});case 2:-1===o?(this.reactionsFormatted.push({emoji:e,count:1,userReacted:!1}),i=this.reactionsFormatted.map(function(t){return t.emoji}).indexOf(e),this.reactionsFormatted[i].userReacted=!0):(this.reactionsFormatted[o].userReacted=!0,this.reactionsFormatted[o].count++),a&&this.$refs.dropdown.toggle();case 4:case"end":return t.stop()}},t,this)}));return function(e,o,a){return t.apply(this,arguments)}}(),toggleReactionFalse:function(){var t=i()(regeneratorRuntime.mark(function t(e,o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.delete("/api/v1/profiles/".concat(this.$store.state.user._id,"/reactions/").concat(this.postId),{data:{emoji:e}});case 2:this.reactionsFormatted[o].count--,this.reactionsFormatted[o].userReacted=!1,0===this.reactionsFormatted[o].count&&this.reactionsFormatted.splice(o,1);case 5:case"end":return t.stop()}},t,this)}));return function(e,o){return t.apply(this,arguments)}}(),cardModal:function(){this.$modal.open({parent:this,component:r.a,props:{reactionsFormatted:this.reactionsFormatted,toggleReaction:this.toggleReaction},hasModalCard:!0})},showPost:function(){this.$emit("open-post")}},computed:{reactionCount:function(){var t=0;return this.reactionsFormatted.length>3&&this.reactionsFormatted.slice(3).map(function(e){t=e.count+t}),t},reactionCountMobile:function(){var t=0;return this.reactionsFormatted.map(function(e){t=e.count+t}),t}},mounted:function(){var t=i()(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.$get("/api/v1/reactions/".concat(this.postId));case 3:this.reactionList=t.sent,this.reactionList.length&&this.reactionList.forEach(function(t){var o=t.profileId===e.$store.state.user._id,a=e.reactionsFormatted.map(function(t){return t.emoji}).indexOf(t.emoji);-1===a?(e.reactionsFormatted.push({emoji:t.emoji,count:1,userReacted:!1}),o&&(a=e.reactionsFormatted.map(function(t){return t.emoji}).indexOf(t.emoji),e.reactionsFormatted[a].userReacted=!0)):(e.reactionsFormatted[a].count++,o&&(e.reactionsFormatted[a].userReacted=!0))}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("some kind of error idk");case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},u=(o(270),o(26)),m=Object(u.a)(d,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"level is-mobile"},[o("div",{staticClass:"reactions level-left"},[t._l(t.reactionsFormatted.slice(0,3),function(e,a){return o("a",{staticClass:"button is-outlined iterator level-item is-hidden-mobile",class:{"user-reacted":e.userReacted},on:{click:function(o){return t.toggleReaction(e.emoji,a)}}},[o("b",[t._v(t._s(e.emoji)+t._s(e.count))])])}),t._v(" "),t.reactionCount?o("a",{staticClass:"button is-outlined level-item is-hidden-mobile",on:{click:function(e){return t.cardModal()}}},[o("b",[t._v("··· "+t._s(t.reactionCount))])]):t._e(),t._v(" "),t.reactionsFormatted.length?o("a",{staticClass:"button is-outlined iterator level-item is-hidden-tablet",on:{click:function(e){return t.cardModal()}}},[o("b",[t._l(t.reactionsFormatted.slice(0,3),function(e,a){return o("span",{staticClass:"is-marginless is-paddingless"},[t._v(t._s(e.emoji))])}),t._v(t._s(t.reactionCountMobile))],2)]):t._e(),t._v(" "),o("BDropdown",{ref:"dropdown",attrs:{"mobile-modal":""}},[o("a",{staticClass:"button is-outlined level-item",attrs:{slot:"trigger"},slot:"trigger"},[o("font-awesome-icon",{attrs:{icon:"smile"}})],1),t._v(" "),o("BDropdownItem",{attrs:{custom:""}},[o("Picker",{attrs:{set:"apple",showSkinTones:!1,showPreview:!1},on:{select:t.toggleReaction}})],1)],1),t._v(" "),o("div",{staticClass:"comments level-item",on:{click:function(e){return t.showPost()}}},[o("font-awesome-icon",{attrs:{icon:"comments"}}),t._v(" Comments\n        ")],1)],2)])},[],!1,null,"4da01963",null);m.options.__file="reactions.vue";var p=m.exports,f=o(224),v=o(225),h=o(77),g={name:"Post",components:{PostTimer:v.a,PostHeader:f.a,Reactions:p},props:{post:Object,hideComments:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},data:function(){return{project:{},community:{},profile:{},isProject:!1,overflow:!1}},mounted:function(){var t=i()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.post.hasOwnProperty("projectId")){t.next=14;break}return this.isProject=!0,t.prev=2,t.next=5,this.$axios.$get("/api/v1/projects/".concat(this.post.projectId));case 5:return this.project=t.sent,t.next=8,this.$axios.$get("/api/v1/communities/".concat(this.post.communityId));case 8:this.community=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log("error grabbing some values");case 14:if(!this.post.hasOwnProperty("profileId")){t.next=28;break}return this.isProject=!1,t.prev=16,t.next=19,this.$axios.$get("/api/v1/profiles/".concat(this.post.profileId));case 19:return this.profile=t.sent,t.next=22,this.$axios.$get("/api/v1/communities/".concat(this.post.communityId));case 22:this.community=t.sent,t.next=28;break;case 25:t.prev=25,t.t1=t.catch(16),console.log("error grabbing some values");case 28:h.a.isActivePost(this.post)||(this.post.isActive=!1,this.$axios.put("/api/v1/posts/".concat(this.post._id),{isActive:!1})),this.$refs.content&&this.$refs.content.getBoundingClientRect().height>=480&&(this.overflow=!0);case 30:case"end":return t.stop()}},t,this,[[2,11],[16,25]])}));return function(){return t.apply(this,arguments)}}(),methods:{openPost:function(){this.isMobile?this.$router.push({path:"/dev/mobile/".concat(this.post._id)}):this.$modal.open({parent:this,component:c.a,props:{post:this.post,profile:this.profile,project:this.project,community:this.community,isProject:this.isProject},width:900,hasModalCard:!0})}}},b=(o(272),Object(u.a)(g,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card"},[o("post-header",{attrs:{isActive:t.post.isActive,createdAt:this.post.createdAt,profile:this.profile,project:this.project,community:this.community,isProject:this.isProject}}),t._v(" "),t.post.isActive?o("PostTimer",{attrs:{time:t.post.expiration}}):t._e(),t._v(" "),o("div",{ref:"content",class:{fullHeight:!t.overflow},attrs:{id:"content-box"}},[o("div",{staticClass:"content is-marginless",domProps:{innerHTML:t._s(t.post.content)}}),t._v(" "),t.overflow?o("p",{staticClass:"read-more",on:{click:function(e){t.overflow=!t.overflow}}},[o("a",[t._v("Read More")])]):t._e()]),t._v(" "),o("br"),t._v(" "),o("Reactions",{attrs:{postId:this.post._id},on:{"open-post":t.openPost}})],1)},[],!1,null,"5a9bee38",null));b.options.__file="NewsfeedPost.vue";e.a=b.exports},318:function(t,e,o){var a=o(393);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("3d9bc180",a,!0,{})},319:function(t,e,o){var a=o(395);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("5b584dea",a,!0,{})},320:function(t,e,o){var a=o(397);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("561e59c4",a,!0,{})},321:function(t,e,o){var a=o(399);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(25).default)("1016b3d8",a,!0,{})},392:function(t,e,o){"use strict";var a=o(318);o.n(a).a},393:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".section[data-v-535f1e7c]{padding-bottom:0}span[data-v-535f1e7c]{color:#39c9a0}.level[data-v-535f1e7c]{padding:1rem}.modal-card-body[data-v-535f1e7c]{overflow:visible}.field[data-v-535f1e7c]{margin:1em 0}div .modal-content[data-v-535f1e7c]{width:55%;border-radius:6px;overflow:visible}.modal-content.box[data-v-535f1e7c]{min-height:80%}.button.action[data-v-535f1e7c]{width:12em;color:#fff;background-color:#39c9a0;border-color:#39c9a0}.post[data-v-535f1e7c]{margin-right:.75em}.is-white[data-v-535f1e7c]:hover{background-color:#e9ebee}.dropdown-content[data-v-535f1e7c]{overflow:visible}",""])},394:function(t,e,o){"use strict";var a=o(319);o.n(a).a},395:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".box[data-v-e9402836]{width:800px;max-width:100%}.modal-content[data-v-e9402836]{border-radius:6px;margin:0;color:#39c9a0;width:auto}.title[data-v-e9402836]{color:#39c9a0;text-align:center}.button.action[data-v-e9402836]{width:12em;color:#fff;background-color:#39c9a0;border-color:#39c9a0}",""])},396:function(t,e,o){"use strict";var a=o(320);o.n(a).a},397:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".section[data-v-1647933f]{padding-bottom:0}span[data-v-1647933f]{color:#39c9a0}.level[data-v-1647933f]{padding:1rem}.modal-card-body[data-v-1647933f]{overflow:visible}.field[data-v-1647933f]{margin:1em 0}div .modal-content[data-v-1647933f]{width:55%;border-radius:6px;overflow:visible}.modal-content.box[data-v-1647933f]{min-height:80%}.button.action[data-v-1647933f]{width:12em;color:#fff;background-color:#39c9a0;border-color:#39c9a0}.post[data-v-1647933f]{margin-right:.75em}.is-white[data-v-1647933f]:hover{background-color:#e9ebee}.dropdown-content[data-v-1647933f]{overflow:visible}",""])},398:function(t,e,o){"use strict";var a=o(321);o.n(a).a},399:function(t,e,o){(t.exports=o(24)(!1)).push([t.i,".no-padding{padding:0}.no-margin{margin:0}.side-pane{display:flex;justify-content:center}.screen{position:absolute;top:0;left:0;width:100%;height:100%}",""])},433:function(t,e,o){"use strict";o.r(e);o(13);var a=o(1),i=o.n(a),n=o(281),s=o(282),r=o(280),c=o(238),l=o(283),d=o(227),u={name:"createPost",data:function(){return{userDropdown:!1,commDropdown:!1,editor:null}},methods:{createPost:function(){var t=i()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/api/v1/communities/5c3292a2f03d751a7ffb80ab");case 2:return e=t.sent,t.next=5,this.$axios.post("/api/v1/communities/1234567890/posts",{profileId:this.$store.state.user._id,communityId:e._id,content:this.html});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cardModal:function(){this.$modal.open({parent:this,component:d.a,props:{reactionsFormatted:this.reactionsFormatted},hasModalCard:!0})}}},m=(o(392),o(26)),p=Object(m.a)(u,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"box level"},[t._m(0),t._v(" "),o("a",{staticClass:"button action",on:{click:function(e){return t.cardModal()}}},[o("b",[t._v("Create")])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"level-left is-size-4"},[e("b",[this._v("Create a post...")])])}],!1,null,"535f1e7c",null);p.options.__file="createPost.vue";var f=p.exports,v={name:"LoginAndRegisterModal",components:{},data:function(){return{activeTab:0,loginForm:{username:"",password:""},registerForm:{name:"",email:"",username:"",password:""}}},methods:{register:function(){var t=i()(regeneratorRuntime.mark(function t(e){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post("api/v1/users",{username:e.username,password:e.password});case 3:return t.next=5,this.$auth.loginWith("local",{data:{username:e.username,password:e.password}});case 5:return t.next=7,this.$axios.get("api/v1/users/me",{params:{username:e.username,password:e.password}});case 7:o=t.sent,console.log("test"),console.log(o),this.$store.commit("user/setUser",o.data),this.$parent.close(),this.$router.push("/dev"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}},t,this,[[0,15]])}));return function(e){return t.apply(this,arguments)}}(),login:function(){var t=i()(regeneratorRuntime.mark(function t(e){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$auth.loginWith("local",{data:{username:e.username,password:e.password}});case 3:return t.next=5,this.$axios.get("api/v1/users/me",{params:{username:e.username,password:e.password}});case 5:o=t.sent,this.$store.commit("user/setUser",o.data),this.$parent.close(),this.$router.push("/dev"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),logout:function(){this.$auth.logout()}},mounted:function(){}},h=(o(394),Object(m.a)(v,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-content"},[o("div",{staticClass:"box"},[o("b-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[o("b-tab-item",{attrs:{label:"Login"}},[o("section",[o("span",{staticClass:"title"},[t._v("Welcome Back!")]),t._v(" "),o("b-field",{attrs:{label:"Username"}},[o("b-input",{attrs:{maxlength:"15"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),o("b-field",{attrs:{label:"Password"}},[o("b-input",{attrs:{type:"password","password-reveal":""},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),o("a",{staticClass:"button action",on:{click:function(e){return t.login(t.loginForm)}}},[t._v("\n                        Submit\n                    ")])],1)]),t._v(" "),o("b-tab-item",{attrs:{label:"Signup"}},[o("section",[o("span",{staticClass:"title"},[t._v("Create Account")]),t._v(" "),o("b-field",{attrs:{label:"Username"}},[o("b-input",{attrs:{maxlength:"15"},model:{value:t.registerForm.username,callback:function(e){t.$set(t.registerForm,"username",e)},expression:"registerForm.username"}})],1),t._v(" "),o("b-field",{attrs:{label:"Password"}},[o("b-input",{attrs:{type:"password","password-reveal":""},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),t._v(" "),o("a",{staticClass:"button action",on:{click:function(e){return t.register(t.registerForm)}}},[t._v("\n                        Submit\n                    ")])],1)])],1)],1)])},[],!1,null,"e9402836",null));h.options.__file="LoginAndRegisterModal.vue";var g=h.exports,b={name:"LoginAndRegister",data:function(){return{userDropdown:!1,commDropdown:!1}},methods:{cardModal:function(){this.$modal.open({parent:this,component:g,width:900,hasModalCard:!0})}}},_=(o(396),Object(m.a)(b,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"box level"},[t._m(0),t._v(" "),o("a",{staticClass:"button action",on:{click:function(e){return t.cardModal()}}},[o("b",[t._v("Create")])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"level-left is-size-4"},[e("b",[this._v("Log In")])])}],!1,null,"1647933f",null));_.options.__file="LoginAndRegister.vue";var x={name:"test",components:{LoginAndRegister:_.exports,CreatePost:f,Header:r.a,NavPane:c.a,Post:l.a,MobileHeader:n.a,MobileFooter:s.a},data:function(){return{postList:[]}},mounted:function(){var t=i()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$get("/api/v1/posts/".concat(this.sort,"/").concat(this.postList.length));case 2:return this.postList=t.sent,t.next=5,this.scroll();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{sort:function(){return this.$store.state.sorting.newsfeed}},methods:{scroll:function(){var t=i()(regeneratorRuntime.mark(function t(){var e,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.postList.length&&(e=!1,window.onscroll=function(){var t=i()(regeneratorRuntime.mark(function t(a){var i,n,s,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=document.getElementById("postFeed"),n=window.innerHeight+window.scrollY>=i.offsetHeight-500,e||!n){t.next=15;break}return e=!0,t.next=6,o.$axios.$get("/api/v1/posts/".concat(o.sort,"/").concat(o.postList.length));case 6:return s=t.sent,t.next=9,o.postList.concat(s);case 9:if(r=t.sent,!s.length){t.next=15;break}return t.next=13,r;case 13:o.postList=t.sent,e=!1;case 15:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},watch:{sort:function(){var t=i()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$get("/api/v1/posts/".concat(this.sort,"/0"));case 2:return this.postList=t.sent,t.next=5,this.scroll();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},w=(o(398),Object(m.a)(x,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"screen background-tint"},[o("Header",{staticClass:"is-hidden-touch"}),t._v(" "),o("div",{staticClass:"container is-fullhd is-hidden-touch"},[o("div",{staticClass:"columns is-centered is-marginless main-margin"},[o("div",{staticClass:"column is-one-quarter is-paddingless side-pane"},[o("NavPane")],1),t._v(" "),o("div",{staticClass:"column is-one-half is-paddingless no-margin",attrs:{id:"postFeed"}},[o("LoginAndRegister"),t._v(" "),o("CreatePost"),t._v(" "),t._l(t.postList,function(e){return t.postList.length?o("Post",{key:e._id,attrs:{post:e}}):t._e()})],2),t._v(" "),o("div",{staticClass:"column is-one-quarter is-paddingless side-pane"},[t._v("\n        info\n      ")])])]),t._v(" "),o("MobileHeader",{staticClass:"is-hidden-desktop",attrs:{locationToDisplay:"Home",isHome:""}}),t._v(" "),o("div",{staticClass:"columns is-marginless is-hidden-desktop mobile-main-margin"},t._l(t.postList,function(e){return t.postList.length?o("Post",{key:e._id,attrs:{post:e}}):t._e()}),1),t._v(" "),o("MobileFooter",{staticClass:"is-hidden-desktop"})],1)},[],!1,null,null,null));w.options.__file="index.vue";e.default=w.exports}}])